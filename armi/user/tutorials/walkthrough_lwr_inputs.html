

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.4. Building input files for a thermal reactor &mdash; ARMI 0.1.3-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/armiicon_16x16.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.5. Hands-on at the ARMI Terminal" href="data_model.html" />
    <link rel="prev" title="2.3. Building input files for a fast reactor" href="walkthrough_inputs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.3-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../user_install.html">1. Installation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">2. Guided Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nuclide_demo.html">2.1. Nuclides and ARMI</a></li>
<li class="toctree-l3"><a class="reference internal" href="materials_demo.html">2.2. The ARMI Material Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="walkthrough_inputs.html">2.3. Building input files for a fast reactor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.4. Building input files for a thermal reactor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-blueprints">2.4.1. Setting up the blueprints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-settings-file">2.4.2. The settings file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-fuel-management">2.4.3. Defining fuel management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html">2.5. Hands-on at the ARMI Terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="param_sweep.html">2.6. Parameter sweeps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../inputs/index.html">3. Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outputs/index.html">4. Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual_data_access.html">5. Accessing Data in ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assorted_guide.html">6. Branch Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assorted_guide.html#physics-coupling">7. Physics Coupling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../.apidocs/modules.html">API Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Guide</a> &raquo;</li>
        
          <li><a href="index.html">2. Guided Tutorials</a> &raquo;</li>
        
      <li>2.4. Building input files for a thermal reactor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user/tutorials/walkthrough_lwr_inputs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="building-input-files-for-a-thermal-reactor">
<h1>2.4. Building input files for a thermal reactor<a class="headerlink" href="#building-input-files-for-a-thermal-reactor" title="Permalink to this headline">¶</a></h1>
<p>In the <a class="reference internal" href="walkthrough_inputs.html"><span class="doc">previous tutorial</span></a>,
we introduced the basic input files and made a full
input for a sodium-cooled fast reactor. In this tutorial, we will build simple
inputs for the light-water reactor (LWR) benchmark problem called C5G7 as defined
in <a class="reference external" href="https://www.oecd-nea.org/science/docs/2003/nsc-doc2003-16.pdf">NEA/NSC/DOC(2003)16</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The full inputs created in this tutorial are available for download at the bottom of
this page.</p>
</div>
<div class="section" id="setting-up-the-blueprints">
<h2>2.4.1. Setting up the blueprints<a class="headerlink" href="#setting-up-the-blueprints" title="Permalink to this headline">¶</a></h2>
<p>This tutorial is shorter than the previous, focusing mostly on the new information.</p>
<div class="section" id="custom-isotopic-vectors">
<h3>2.4.1.1. Custom isotopic vectors<a class="headerlink" href="#custom-isotopic-vectors" title="Permalink to this headline">¶</a></h3>
<p>When using materials that differ in properties or composition from the
materials in the ARMI material library, you can use custom isotopics
to specify their composition.</p>
<p>The C5G7 benchmark problem does not define specific compositions. Instead, it
specifies multigroup macroscopic cross sections in a few regions. For the purposes
of this tutorial, we will ignore the cross sections and just input the
geometry. Thus, rather than specifying the actual composition, we will
start by defining dummy isotopic vectors (using U-235 for every material). Feel
free to add more realistic compositions to these definitions.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">custom isotopics</span><span class="p">:</span>
    <span class="nt">UO2</span><span class="p">:</span>
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="nt">mox low</span><span class="p">:</span> 
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="nt">mox medium</span><span class="p">:</span> 
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="nt">mox high</span><span class="p">:</span>
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="nt">FissionChamber</span><span class="p">:</span>
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="nt">GuideTube</span><span class="p">:</span>
        <span class="nt">input format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mass fractions</span>
        <span class="nt">U235</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Scripts that load the prescribed cross sections from the benchmark
into the ARMI cross section model could be written fairly easily, allowing
users to quickly evaluate this full benchmark problem with various global
solvers.</p>
</div>
</div>
<div class="section" id="the-uo2-block">
<h3>2.4.1.2. The UO2 block<a class="headerlink" href="#the-uo2-block" title="Permalink to this headline">¶</a></h3>
<p>Now we define the pins and other components of the UO2 block.
What’s new here is that we’re pointing to custom isotopics
in many cases, and we’re using the <code class="docutils literal notranslate"><span class="pre">latticeIDs</span></code> input to add
textual specifiers, which will be used in the <code class="docutils literal notranslate"><span class="pre">grids</span></code> input section
below to count and place the pins into a square-pitch lattice. Note that
the <code class="docutils literal notranslate"><span class="pre">latticeIDs</span></code> section is a list. The component will fill every
position in the grid that has any of the specifiers in this list.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">blocks</span><span class="p">:</span>
    <span class="nt">uo2</span><span class="p">:</span> <span class="nl">&amp;block_uo2</span>
        <span class="nt">grid name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2 grid</span>
        <span class="nt">fuel</span><span class="p">:</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Circle</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">od</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">1.08</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">U</span><span class="p p-Indicator">]</span>
        <span class="nt">moderator</span><span class="p">:</span> <span class="nl">&amp;moderator</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DerivedShape</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SaturatedWater</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">450.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">450.0</span>
        <span class="nt">guide tube</span><span class="p">:</span> <span class="nl">&amp;guide_tube</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Square</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Custom</span>
            <span class="nt">isotopics</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GuideTube</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">widthOuter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">GT</span><span class="p p-Indicator">]</span>
        <span class="nt">fission chamber</span><span class="p">:</span> <span class="nl">&amp;fission_chamber</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Square</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Custom</span>
            <span class="nt">isotopics</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FissionChamber</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">widthOuter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">FC</span><span class="p p-Indicator">]</span>
        <span class="nt">pitch</span><span class="p">:</span> <span class="nl">&amp;pitch</span>
        <span class="c1"># dummy component for assembly sizing</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Square</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Void</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">widthInner</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
            <span class="nt">widthOuter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
            <span class="nt">mult</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The dummy pitch component has no material and is simply used to
define the assembly pitch. In a future upgrade, this information will
be taken directly from the <code class="docutils literal notranslate"><span class="pre">lattice</span> <span class="pre">pitch</span></code> grid definition below.</p>
</div>
</div>
<div class="section" id="the-mox-block">
<h3>2.4.1.3. The MOX block<a class="headerlink" href="#the-mox-block" title="Permalink to this headline">¶</a></h3>
<p>The next assembly is very similar. We define three separate fuel pins,
each with different <code class="docutils literal notranslate"><span class="pre">latticeIDs</span></code>, and then use YAML anchors to just
copy the moderator, guide tube, and fission chamber from the previous assembly.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>    <span class="nt">mox</span><span class="p">:</span> <span class="nl">&amp;block_mox</span>
        <span class="nt">grid name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MOX grid</span>
        <span class="nt">mox low fuel</span><span class="p">:</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Circle</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2</span>
            <span class="nt">isotopics</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mox low</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">od</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">1.08</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">ML</span><span class="p p-Indicator">]</span>
        <span class="nt">mox medium fuel</span><span class="p">:</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Circle</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2</span>
            <span class="nt">isotopics</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mox medium</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">od</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">1.08</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">MM</span><span class="p p-Indicator">]</span>
        <span class="nt">mox high fuel</span><span class="p">:</span>
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Circle</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2</span>
            <span class="nt">isotopics</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mox high</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">od</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">1.08</span>
            <span class="nt">latticeIDs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">MH</span><span class="p p-Indicator">]</span>
        <span class="nt">moderator</span><span class="p">:</span> <span class="nv">*moderator</span>
        <span class="nt">guide tube</span><span class="p">:</span> <span class="nv">*guide_tube</span>
        <span class="nt">fission chamber</span><span class="p">:</span> <span class="nv">*fission_chamber</span>
        <span class="nt">pitch</span><span class="p">:</span> <span class="nv">*pitch</span>
</pre></div>
</div>
</div>
<div class="section" id="the-moderator-block">
<h3>2.4.1.4. The moderator block<a class="headerlink" href="#the-moderator-block" title="Permalink to this headline">¶</a></h3>
<p>The moderator block for the radial and axial reflectors is very simple:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>    <span class="nt">moderator</span><span class="p">:</span> <span class="nl">&amp;block_mod</span>
        <span class="nt">moderator</span><span class="p">:</span> 
            <span class="nt">shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Square</span>
            <span class="nt">material</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SaturatedWater</span>
            <span class="nt">Tinput</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">Thot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25.0</span>
            <span class="nt">widthOuter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
            <span class="nt">mult</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="the-3-d-assembly-definitions">
<h3>2.4.1.5. The 3-D Assembly definitions<a class="headerlink" href="#the-3-d-assembly-definitions" title="Permalink to this headline">¶</a></h3>
<p>Now that the pins are defined, we stack them into assemblies, very similar
to what we did in the SFR tutorial. There are three distinct assembly definitions.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">assemblies</span><span class="p">:</span>
    <span class="nt">heights</span><span class="p">:</span> <span class="nl">&amp;heights</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">64.26</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">64.26</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">64.26</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
    <span class="nt">axial mesh points</span><span class="p">:</span> <span class="nl">&amp;mesh</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

    <span class="nt">UO2</span><span class="p">:</span>
        <span class="nt">specifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UO2</span>
        <span class="nt">blocks</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_uo2</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_uo2</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_uo2</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
        <span class="nt">height</span><span class="p">:</span> <span class="nv">*heights</span>
        <span class="nt">axial mesh points</span><span class="p">:</span> <span class="nv">*mesh</span>
        <span class="nt">xs types</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">]</span>
    <span class="nt">mox</span><span class="p">:</span>
        <span class="nt">specifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MOX</span>
        <span class="nt">blocks</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mox</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mox</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mox</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
        <span class="nt">height</span><span class="p">:</span> <span class="nv">*heights</span>
        <span class="nt">axial mesh points</span><span class="p">:</span> <span class="nv">*mesh</span>
        <span class="nt">xs types</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">]</span>
    <span class="nt">mod</span><span class="p">:</span>
        <span class="nt">specifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MOD</span>
        <span class="nt">blocks</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
            <span class="p p-Indicator">-</span> <span class="nv">*block_mod</span>
        <span class="nt">height</span><span class="p">:</span> <span class="nv">*heights</span>
        <span class="nt">axial mesh points</span><span class="p">:</span> <span class="nv">*mesh</span>
        <span class="nt">xs types</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="nv">A</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<div class="section" id="the-systems-definition">
<h3>2.4.1.6. The Systems definition<a class="headerlink" href="#the-systems-definition" title="Permalink to this headline">¶</a></h3>
<p>This problem only considers a core, so we will only have a core system in this
problem. If pumps, heat exchangers, spent fuel pools, etc were to be modeled,
they would be here alongside the core. We also anchor the core at the global
coordinates (0,0,0). If we wanted the core at some other elevation, we could
adjust that here.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">systems</span><span class="p">:</span>
    <span class="nt">core</span><span class="p">:</span>
      <span class="nt">grid name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">core</span>

      <span class="nt">origin</span><span class="p">:</span>
          <span class="nt">x</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
          <span class="nt">y</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
          <span class="nt">z</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
</pre></div>
</div>
</div>
<div class="section" id="the-grids-definitions">
<h3>2.4.1.7. The Grids definitions<a class="headerlink" href="#the-grids-definitions" title="Permalink to this headline">¶</a></h3>
<p>Now we define the core map and the assembly pin maps using the
generic grid input section. In the previous tutorial, we loaded the grid definition
from an XML file. In this tutorial, we define the grid directly with an
textual <code class="docutils literal notranslate"><span class="pre">lattice</span> <span class="pre">map</span></code> input section. The core map is particularly simple; it
only has 9 assemblies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">grids</span><span class="p">:</span> 
    <span class="nt">core</span><span class="p">:</span>
        <span class="nt">symmetry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">full</span>
        <span class="nt">geom</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cartesian</span>
        <span class="nt">lattice pitch</span><span class="p">:</span>
            <span class="nt">x</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
            <span class="nt">y</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">21.42</span>
        <span class="nt">lattice map</span><span class="p">:</span> <span class="p p-Indicator">|</span>
         <span class="no">UO2 MOX MOD</span>
         <span class="no">MOX UO2 MOD</span>
         <span class="no">MOD MOD MOD</span>
</pre></div>
</div>
<p>The pin map for the UO2 assembly is larger, but still relatively straightforward.
Recall that on the <code class="docutils literal notranslate"><span class="pre">uo2</span></code> block above we said that we want to apply the grid
with the name <code class="docutils literal notranslate"><span class="pre">UO2</span> <span class="pre">grid</span></code>, and wanted to fill any <code class="docutils literal notranslate"><span class="pre">U</span></code> position with
the <code class="docutils literal notranslate"><span class="pre">fuel</span></code> component defined up there. Here’s where we define that grid.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>    <span class="nt">UO2 grid</span><span class="p">:</span> 
        <span class="nt">symmetry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">full</span>
        <span class="nt">geom</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cartesian</span>
        <span class="nt">lattice pitch</span><span class="p">:</span>
            <span class="nt">x</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
            <span class="nt">y</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
        <span class="nt">lattice map</span><span class="p">:</span> <span class="p p-Indicator">|</span> 
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  GT U  U  GT U  U  GT U  U  U  U  U</span>
            <span class="no">U  U  U  GT U  U  U  U  U  U  U  U  U  GT U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  GT U  U  GT U  U  GT U  U  GT U  U  GT U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  GT U  U  GT U  U  FC U  U  GT U  U  GT U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  GT U  U  GT U  U  GT U  U  GT U  U  GT U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  GT U  U  U  U  U  U  U  U  U  GT U  U  U</span>
            <span class="no">U  U  U  U  U  GT U  U  GT U  U  GT U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
            <span class="no">U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U</span>
</pre></div>
</div>
<p>Similarly, we define the <code class="docutils literal notranslate"><span class="pre">MOX</span> <span class="pre">grid</span></code> as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>    <span class="nt">MOX grid</span><span class="p">:</span>
        <span class="nt">symmetry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">full</span>
        <span class="nt">geom</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cartesian</span>
        <span class="nt">lattice pitch</span><span class="p">:</span>
            <span class="nt">x</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
            <span class="nt">y</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.26</span>
        <span class="nt">lattice map</span><span class="p">:</span> <span class="p p-Indicator">|</span> 
            <span class="no">ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML</span>
            <span class="no">ML MM MM MM MM MM MM MM MM MM MM MM MM MM MM MM ML</span>
            <span class="no">ML MM MM MM MM GT MM MM GT MM MM GT MM MM MM MM ML</span>
            <span class="no">ML MM MM GT MM MH MH MH MH MH MH MH MM GT MM MM ML</span>
            <span class="no">ML MM MM MM MH MH MH MH MH MH MH MH MH MM MM MM ML</span>
            <span class="no">ML MM GT MH MH GT MH MH GT MH MH GT MH MH GT MM ML</span>
            <span class="no">ML MM MM MH MH MH MH MH MH MH MH MH MH MH MM MM ML</span>
            <span class="no">ML MM MM MH MH MH MH MH MH MH MH MH MH MH MM MM ML</span>
            <span class="no">ML MM GT MH MH GT MH MH FC MH MH GT MH MH GT MM ML</span>
            <span class="no">ML MM MM MH MH MH MH MH MH MH MH MH MH MH MM MM ML</span>
            <span class="no">ML MM MM MH MH MH MH MH MH MH MH MH MH MH MM MM ML</span>
            <span class="no">ML MM GT MH MH GT MH MH GT MH MH GT MH MH GT MM ML</span>
            <span class="no">ML MM MM MM MH MH MH MH MH MH MH MH MH MM MM MM ML</span>
            <span class="no">ML MM MM GT MM MH MH MH MH MH MH MH MM GT MM MM ML</span>
            <span class="no">ML MM MM MM MM GT MM MM GT MM MM GT MM MM MM MM ML</span>
            <span class="no">ML MM MM MM MM MM MM MM MM MM MM MM MM MM MM MM ML</span>
            <span class="no">ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML ML</span>
</pre></div>
</div>
<p>This grid is more complex in that it has different enrichment zones throughout
the assembly.</p>
</div>
<div class="section" id="nuclide-flags">
<h3>2.4.1.8. Nuclide Flags<a class="headerlink" href="#nuclide-flags" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nuclide flags</span><span class="p">:</span>
    <span class="nt">O</span><span class="p">:</span> 
        <span class="nt">burn</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="nt">xs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">expandTo</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;O16&quot;</span><span class="p p-Indicator">]</span>
    <span class="nt">H</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt">burn</span><span class="p">:</span> <span class="nv">false</span><span class="p p-Indicator">,</span><span class="nt"> xs</span><span class="p">:</span> <span class="nv">true</span><span class="p p-Indicator">}</span>
    <span class="nt">U235</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt">burn</span><span class="p">:</span> <span class="nv">false</span><span class="p p-Indicator">,</span><span class="nt"> xs</span><span class="p">:</span> <span class="nv">true</span><span class="p p-Indicator">}</span>
    <span class="nt">U238</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt">burn</span><span class="p">:</span> <span class="nv">false</span><span class="p p-Indicator">,</span><span class="nt"> xs</span><span class="p">:</span> <span class="nv">true</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The default nuclide flags provided do not contain oxygen or hydrogen, but
these elements are present in the <code class="docutils literal notranslate"><span class="pre">SaturatedWater</span></code> material. Thus,
we list them in this input section, and specifically leave out
the trace isotope, <code class="docutils literal notranslate"><span class="pre">O18</span></code>.</p>
</div>
</div>
<div class="section" id="the-settings-file">
<h2>2.4.2. The settings file<a class="headerlink" href="#the-settings-file" title="Permalink to this headline">¶</a></h2>
<p>Really, the only thing the settings file does in this case is point to the blueprints
file. As we turn this case into an actual run, we may add various cross section
and neutrons options to evaluate the benchmark.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">uncontrolled</span>
<span class="nt">settings</span><span class="p">:</span>
  <span class="nt">availabilityFactor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.9</span>
  <span class="nt">power</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000000000.0</span>
  <span class="nt">cycleLength</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">411.11</span>
  <span class="nt">loadingFile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">c5g7-blueprints.yaml</span>
  <span class="nt">nCycles</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class="nt">burnSteps</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">buGroups</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
  <span class="nt">comment</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">C5G7 LWR Benchmark inputs</span>
  <span class="nt">genXS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Neutron</span>
  <span class="nt">numProcessors</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-fuel-management">
<h2>2.4.3. Defining fuel management<a class="headerlink" href="#defining-fuel-management" title="Permalink to this headline">¶</a></h2>
<p>By not defining any fuel management settings, we skip fuel management for
this benchmark problem entirely.</p>
<p>There! You have now created all the ARMI inputs, from scratch, needed to
represent the C5G7 benchmark problem.</p>
<p>Here are the full files used in this example:</p>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../_downloads/d4803c74d36bd443e41e6a7b6e190053/c5g7-blueprints.yaml"><code class="xref download docutils literal notranslate"><span class="pre">Blueprints</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/adf1a6ec635b5354bfd87d1b5f167c9d/c5g7-settings.yaml"><code class="xref download docutils literal notranslate"><span class="pre">Settings</span></code></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data_model.html" class="btn btn-neutral float-right" title="2.5. Hands-on at the ARMI Terminal" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="walkthrough_inputs.html" class="btn btn-neutral float-left" title="2.3. Building input files for a fast reactor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-02-04.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>