

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta property="og:title" content="5. Tooling and infrastructure" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/developer/tooling.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="Packaging and dependency management: The process of packaging and Python projects and managing their dependencies is somewhat challenging, nuanced, and in the opinion of the author, poorly-document..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Tooling and infrastructure &mdash; ARMI 0.1.5 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="News" href="../blog/index.html" />
    <link rel="prev" title="4. Documenting ARMI" href="documenting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="guide.html">1. Framework Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="making_armi_based_apps.html">2. Making ARMI-based Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="entrypoints.html">3. Entry Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenting.html">4. Documenting ARMI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5. Tooling and infrastructure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#packaging-and-dependency-management">5.1. Packaging and dependency management</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../.apidocs/modules.html">API Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Developer Docs</a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Tooling and infrastructure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/developer/tooling.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="tooling-and-infrastructure">
<h1><span class="section-number">5. </span>Tooling and infrastructure<a class="headerlink" href="#tooling-and-infrastructure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="packaging-and-dependency-management">
<h2><span class="section-number">5.1. </span>Packaging and dependency management<a class="headerlink" href="#packaging-and-dependency-management" title="Permalink to this headline">¶</a></h2>
<p>The process of packaging and Python projects and managing their dependencies is
somewhat challenging, nuanced, and in the opinion of the author, poorly-documented.
We attempt to follow existing conventions, where they exist, and the contents of our
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code> follow existing conventions as possible. Of particular note is the way that
we express our dependencies. In this, we take inspiration from <a class="reference external" href="https://caremad.io/posts/2013/07/setup-vs-requirement/">this fantastic article</a>
about dependecy management in Python projects.</p>
<p>The main points here are that the packages listed in the <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> argument to
<code class="docutils literal notranslate"><span class="pre">setup()</span></code> are meant to express, as abstractly as possible, the packages that need to
be installed <strong>somehow</strong> for the package to work. In addition, <code class="docutils literal notranslate"><span class="pre">extras_require</span></code> can be
used to specify other packages that are not strictly required, but if installed enable
extra functionality. On the other hand, <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> exists to describe a
complete environment more specifically, potentially including extra arguments to <code class="docutils literal notranslate"><span class="pre">pip</span></code>
to control its behavior. Dependencies specified in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> should include version
bounds sparingly, only when needed to ensure compatibility, whereas <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>
may sometimes point to an alternative package index, and include strict version bounds
for all dependencies.</p>
<p>A common source of concern is that the list of dependencies would be duplicated between
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code> and <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>. In our particular case, ARMI does not benefit
from pointing to special package indices, and most version bounds are semanic. We
therefore follow the recommendation in the above article of including in
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> a simple <code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">.</span></code>. This tells pip to install <code class="docutils literal notranslate"><span class="pre">armi</span></code> itself,
deferring to <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> for a list of requiremed dependencies. Non-semantic version
bounds, such as those used to avoid bugs in the dependency, should be specified in
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>, rather than <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>. ARMI itself has several requirements
files, located at the root of the project, which can be used as jumping-off points for
more complex scenarios.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../blog/index.html" class="btn btn-neutral float-right" title="News" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="documenting.html" class="btn btn-neutral float-left" title="4. Documenting ARMI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-12-16.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>