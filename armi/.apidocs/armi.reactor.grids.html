

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta property="og:title" content="armi.reactor.grids module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.reactor.grids.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="This contains structured meshes in multiple geometries and spatial locators (i.e. locations). Grids are objects that map indices (i, j, k) to spatial locations (x,y,z) or (t,r,z). They are useful f..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.reactor.grids module &mdash; ARMI 0.1.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.reactor.locations module" href="armi.reactor.locations.html" />
    <link rel="prev" title="armi.reactor.geometry module" href="armi.reactor.geometry.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.reactor.html">armi.reactor package</a> &raquo;</li>
        
      <li>armi.reactor.grids module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/.apidocs/armi.reactor.grids.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.reactor.grids">
<span id="armi-reactor-grids-module"></span><h1>armi.reactor.grids module<a class="headerlink" href="#module-armi.reactor.grids" title="Permalink to this headline">Â¶</a></h1>
<p>This contains structured meshes in multiple geometries and spatial locators (i.e. locations).</p>
<p><a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grids</span></code></a> are objects that map indices (i, j, k) to spatial locations
(x,y,z) or (t,r,z).  They are useful for arranging things in reactors, such as:</p>
<ul class="simple">
<li><p>Fuel assemblies in a reactor</p></li>
<li><p>Plates in a heat exchanger</p></li>
<li><p>Pins in a fuel assembly</p></li>
<li><p>Blocks in a fuel assembly (1-D)</p></li>
</ul>
<p>Fast reactors often use a hexagonal grid, while other reactors may be better suited for
Cartesian or RZT grids. This module contains representations of all these.</p>
<p><code class="docutils literal notranslate"><span class="pre">Grid</span></code>s can be defined by any arbitrary combination of absolute grid boundaries and
unit step directions.</p>
<p>Associated with grids are <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexLocations</span></code></a>. Each of these maps
to a single cell in a grid, or to an arbitrary point in the continuous space represented
by a grid. When a <cite>Grid`</cite> is built, it builds a collection of <code class="docutils literal notranslate"><span class="pre">IndexLocation</span></code>s, one
for each cell.</p>
<p>In the ARMI <a class="reference internal" href="armi.reactor.html#module-armi.reactor" title="armi.reactor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">armi.reactor</span></code></a> module, each object is assigned a locator either from
a grid or in arbitrary, continuous space (using a <a class="reference internal" href="#armi.reactor.grids.CoordinateLocation" title="armi.reactor.grids.CoordinateLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoordinateLocation</span></code></a>) on the
<code class="docutils literal notranslate"><span class="pre">spatialLocator</span></code> attribute.</p>
<p>Below is a basic example of how to use a 2-D grid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="o">.</span><span class="n">fromRectangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># 1 cm square-pitch Cartesian grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">location</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">location</span><span class="o">.</span><span class="n">getGlobalCoordinates</span><span class="p">()</span>
</pre></div>
</div>
<p>array([ 1.,  2.,  0.])</p>
<p>Grids can be chained together in a parent-child relationship. This is often used in ARMI
where a 1-D axial grid (e.g. in an assembly) is being positioned in a core or spent-fuel
pool. See example in
<code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.reactor.tests.test_grids.TestSpatialLocator.test_recursion()</span></code>.</p>
<p>The âradialâ (ring, position) indexing used in DIF3D can be converted to and from the
more quasi-Cartesian indexing in a hex mesh easily with the utility methods
<a class="reference internal" href="#armi.reactor.grids.HexGrid.getRingPos" title="armi.reactor.grids.HexGrid.getRingPos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HexGrid.getRingPos()</span></code></a> and <a class="reference internal" href="#armi.reactor.grids.indicesToRingPos" title="armi.reactor.grids.indicesToRingPos"><code class="xref py py-func docutils literal notranslate"><span class="pre">indicesToRingPos()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">IndexLocation</span></code> is intended to replace</p>
</div>
<p><a class="reference internal" href="armi.reactor.locations.html#armi.reactor.locations.Location" title="armi.reactor.locations.Location"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.locations.Location</span></code></a>.</p>
<p>This module is designed to satisfy the spatial arrangement requirements of <a class="reference internal" href="armi.reactor.html#module-armi.reactor" title="armi.reactor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">the</span>
<span class="pre">Reactor</span> <span class="pre">package</span></code></a>.</p>
<p>Throughout the module, the term <strong>global</strong> refers to the top-level coordinate system
while the word <strong>local</strong> refers to within the current coordinate system defined by the
current grid.</p>
<dl class="py class">
<dt id="armi.reactor.grids.GridParameters">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">GridParameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unitSteps</span></em>, <em class="sig-param"><span class="n">bounds</span></em>, <em class="sig-param"><span class="n">unitStepLimits</span></em>, <em class="sig-param"><span class="n">offset</span></em>, <em class="sig-param"><span class="n">geomType</span></em>, <em class="sig-param"><span class="n">symmetry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.reactor.grids.GridParameters" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>Create new instance of GridParameters(unitSteps, bounds, unitStepLimits, offset, geomType, symmetry)</p>
<dl class="py method">
<dt id="armi.reactor.grids.GridParameters._asdict">
<code class="sig-name descname">_asdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#armi.reactor.grids.GridParameters._asdict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a new OrderedDict which maps field names to their values.</p>
</dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.GridParameters._field_defaults">
<code class="sig-name descname">_field_defaults</code><em class="property"> = {}</em><a class="headerlink" href="#armi.reactor.grids.GridParameters._field_defaults" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.GridParameters._fields">
<code class="sig-name descname">_fields</code><em class="property"> = ('unitSteps', 'bounds', 'unitStepLimits', 'offset', 'geomType', 'symmetry')</em><a class="headerlink" href="#armi.reactor.grids.GridParameters._fields" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.GridParameters._fields_defaults">
<code class="sig-name descname">_fields_defaults</code><em class="property"> = {}</em><a class="headerlink" href="#armi.reactor.grids.GridParameters._fields_defaults" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters._make">
<em class="property">classmethod </em><code class="sig-name descname">_make</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.reactor.grids.GridParameters._make" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Make a new GridParameters object from a sequence or iterable</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters._replace">
<code class="sig-name descname">_replace</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.reactor.grids.GridParameters._replace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a new GridParameters object replacing specified fields with new values</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.bounds">
<em class="property">property </em><code class="sig-name descname">bounds</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.bounds" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.geomType">
<em class="property">property </em><code class="sig-name descname">geomType</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.geomType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.offset">
<em class="property">property </em><code class="sig-name descname">offset</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.offset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.symmetry">
<em class="property">property </em><code class="sig-name descname">symmetry</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.symmetry" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.unitStepLimits">
<em class="property">property </em><code class="sig-name descname">unitStepLimits</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.unitStepLimits" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.GridParameters.unitSteps">
<em class="property">property </em><code class="sig-name descname">unitSteps</code><a class="headerlink" href="#armi.reactor.grids.GridParameters.unitSteps" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.LocationBase">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">LocationBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">grid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A namedtuple-like object for storing location information.</p>
<p>Itâs immutable (you canât set things after construction) and has names.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This was originally a namedtuple but there was a somewhat unbelievable
bug in Python 2.7.8 where unpickling a reactor full of these ended up
inexplicably replacing one of them with an AssemblyParameterCollection.
The bug did not show up in Python 3.</p>
<p>Converting to this class solved that problem.</p>
</div>
<dl class="py attribute">
<dt id="armi.reactor.grids.LocationBase._i">
<code class="sig-name descname">_i</code><a class="headerlink" href="#armi.reactor.grids.LocationBase._i" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.LocationBase._j">
<code class="sig-name descname">_j</code><a class="headerlink" href="#armi.reactor.grids.LocationBase._j" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.LocationBase._k">
<code class="sig-name descname">_k</code><a class="headerlink" href="#armi.reactor.grids.LocationBase._k" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.reactor.grids.LocationBase._grid">
<code class="sig-name descname">_grid</code><a class="headerlink" href="#armi.reactor.grids.LocationBase._grid" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.__getstate__">
<code class="sig-name descname">__getstate__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.__getstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.__getstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Used in pickling and deepcopy, this detaches the grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.__setstate__">
<code class="sig-name descname">__setstate__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.__setstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.__setstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Unpickle a locator, the grid will attach itself if it was also pickled, otherwis this will
be detached.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.i">
<em class="property">property </em><code class="sig-name descname">i</code><a class="headerlink" href="#armi.reactor.grids.LocationBase.i" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.j">
<em class="property">property </em><code class="sig-name descname">j</code><a class="headerlink" href="#armi.reactor.grids.LocationBase.j" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.k">
<em class="property">property </em><code class="sig-name descname">k</code><a class="headerlink" href="#armi.reactor.grids.LocationBase.k" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.grid">
<em class="property">property </em><code class="sig-name descname">grid</code><a class="headerlink" href="#armi.reactor.grids.LocationBase.grid" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.__hash__">
<code class="sig-name descname">__hash__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.__hash__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.__hash__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Define a hash so we can use these as dict keys w/o having exact object.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Including the <code class="docutils literal notranslate"><span class="pre">grid</span></code> attribute may be more robust; however, using only (i, j, k) allows
dictionaries to use IndexLocations and (i,j,k) tuples interchangeably.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">that</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.__lt__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A Locationbase is less than another if the pseudo-radius is less, or if equal, in order
any index is less.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">grids</span><span class="o">.</span><span class="n">HexGrid</span><span class="o">.</span><span class="n">fromPitch</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>   <span class="c1"># the &quot;radius&quot; is less</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>   <span class="c1"># they are equal</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># 2 is greater than -2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># -2 is less than 2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># the &quot;radius&quot; is less</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.LocationBase.__len__">
<code class="sig-name descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.__len__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns 3, the number of directions.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.IndexLocation">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">IndexLocation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">grid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.LocationBase</span></code></a></p>
<p>An immutable location representing one cell in a grid.</p>
<p>The locator is intimately tied to a grid and together, they represent
a grid cell somewhere in the coordinate system of the grid.</p>
<p><code class="docutils literal notranslate"><span class="pre">grid</span></code> is not in the constructor (must be added after construction ) because
the extra argument (grid) gives an inconsistency between __init__ and __new__.
Unfortunately this decision makes whipping up IndexLocations on the fly awkward.
But perhaps thatâs ok because they should only be created by their grids.</p>
<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">that</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.__add__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Enable adding with other objects like this and/or 3-tuples.</p>
<p>Tuples are needed so we can terminate the recursive additions with a (0,0,0) basis.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.detachedCopy">
<code class="sig-name descname">detachedCopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.detachedCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.detachedCopy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Make a copy of this locator that is not associated with a grid.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.reactor.reactors.detach()</span></code></dt><dd><p>uses this</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.parentLocation">
<em class="property">property </em><code class="sig-name descname">parentLocation</code><a class="headerlink" href="#armi.reactor.grids.IndexLocation.parentLocation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the spatialLocator of the ArmiObject that this locatorâs grid is anchored to.</p>
<p>For example, if this is one of many spatialLocators in a 2-D grid representing
a reactor, then the <code class="docutils literal notranslate"><span class="pre">parentLocation</span></code> is the spatialLocator of the reactor, which
will often be a <code class="docutils literal notranslate"><span class="pre">CoordinateLocation</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.indices">
<em class="property">property </em><code class="sig-name descname">indices</code><a class="headerlink" href="#armi.reactor.grids.IndexLocation.indices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the non-grid indices (i,j,k) of this locator.</p>
<p>This strips off the annoying <code class="docutils literal notranslate"><span class="pre">grid</span></code> tagalong which is there to ensure proper
equality (i.e. (0,0,0) in a storage rack is not equal to (0,0,0) in a core).</p>
<p>It is a numpy array for two reasons:
1. It can be added and subtracted for the recursive computations</p>
<blockquote>
<div><p>through different coordinate systems</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>It can be written/read from the database.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getCompleteIndices">
<code class="sig-name descname">getCompleteIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">, </span>int<span class="p">]</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getCompleteIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getCompleteIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transform the indices of this object up to the top mesh.</p>
<p>The top mesh is either the one where thereâs no more parent (true top)
or when an axis gets added twice. Unlike with coordinates,
you can only add each index axis one time. Thus a <em>complete</em>
set of indices is one where an index for each axis has been defined
by a set of 1, 2, or 3 nested grids.</p>
<p>This is useful for getting the reactor-level (i,j,k) indices of an object
in a multi-layered 2-D(assemblies in core)/1-D(blocks in assembly) mesh
like the one mapping blocks up to reactor in Hex reactors.</p>
<p>The benefit of that particular mesh over a 3-D one is that different
assemblies can have different axial meshes, a common situation.</p>
<p>It will just return local indices for pin-meshes inside of blocks.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getLocalCoordinates">
<code class="sig-name descname">getLocalCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nativeCoords</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getLocalCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getLocalCoordinates" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell here in cm.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getGlobalCoordinates">
<code class="sig-name descname">getGlobalCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nativeCoords</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCoordinates" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get coordinates in global 3D space of the centroid of this object.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getGlobalCellBase">
<code class="sig-name descname">getGlobalCellBase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCellBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCellBase" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the cell base (i.e. âbottom leftâ), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getGlobalCellTop">
<code class="sig-name descname">getGlobalCellTop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCellTop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCellTop" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the cell top (i.e. âtop rightâ), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.IndexLocation.getRingPos">
<code class="sig-name descname">getRingPos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getRingPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getRingPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return ring and position of this locator.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.MultiIndexLocation">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">MultiIndexLocation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.IndexLocation</span></code></a></p>
<p>A collection of index locations that can be used as a spatialLocator.</p>
<p>This allows components with multiplicity&gt;1 to have location information
within a parent grid. The implication is that there are multiple
discrete components, each one residing in one of the actual locators
underlying this collection.</p>
<p>This class contains an implementation that allows a multi-index
location to be used in the ARMI data model similar to a
individual IndexLocation.</p>
<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.__getstate__">
<code class="sig-name descname">__getstate__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.__getstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.__getstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Used in pickling and deepcopy, this detaches the grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.__setstate__">
<code class="sig-name descname">__setstate__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.__setstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.__setstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Unpickle a locator, the grid will attach itself if it was also pickled, otherwise this will
be detached.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.getCompleteIndices">
<code class="sig-name descname">getCompleteIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">, </span>int<span class="p">]</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.getCompleteIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.getCompleteIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transform the indices of this object up to the top mesh.</p>
<p>The top mesh is either the one where thereâs no more parent (true top)
or when an axis gets added twice. Unlike with coordinates,
you can only add each index axis one time. Thus a <em>complete</em>
set of indices is one where an index for each axis has been defined
by a set of 1, 2, or 3 nested grids.</p>
<p>This is useful for getting the reactor-level (i,j,k) indices of an object
in a multi-layered 2-D(assemblies in core)/1-D(blocks in assembly) mesh
like the one mapping blocks up to reactor in Hex reactors.</p>
<p>The benefit of that particular mesh over a 3-D one is that different
assemblies can have different axial meshes, a common situation.</p>
<p>It will just return local indices for pin-meshes inside of blocks.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">location</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation">armi.reactor.grids.IndexLocation</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.append" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locations</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation">armi.reactor.grids.IndexLocation</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.extend" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">location</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation">armi.reactor.grids.IndexLocation</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.pop" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.MultiIndexLocation.indices">
<em class="property">property </em><code class="sig-name descname">indices</code><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.indices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the non-grid indices (i,j,k) of this locator.</p>
<p>This strips off the annoying <code class="docutils literal notranslate"><span class="pre">grid</span></code> tagalong which is there to ensure proper
equality (i.e. (0,0,0) in a storage rack is not equal to (0,0,0) in a core).</p>
<p>It is a numpy array for two reasons:
1. It can be added and subtracted for the recursive computations</p>
<blockquote>
<div><p>through different coordinate systems</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>It can be written/read from the database.</p></li>
</ol>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.CoordinateLocation">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">CoordinateLocation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">grid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.IndexLocation</span></code></a></p>
<p>A triple representing a point in space.</p>
<p>This is still associated with a grid. The grid defines the continuous coordinate
space and axes that the location is within. This also links to the composite tree.</p>
<dl class="py method">
<dt id="armi.reactor.grids.CoordinateLocation.getLocalCoordinates">
<code class="sig-name descname">getLocalCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nativeCoords</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getLocalCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getLocalCoordinates" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return x,y,z coordinates in cm within the gridâs coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.CoordinateLocation.getCompleteIndices">
<code class="sig-name descname">getCompleteIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getCompleteIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getCompleteIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Top of chain. Stop recursion and return basis.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.CoordinateLocation.getGlobalCellBase">
<code class="sig-name descname">getGlobalCellBase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getGlobalCellBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getGlobalCellBase" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the cell base (i.e. âbottom leftâ), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.CoordinateLocation.getGlobalCellTop">
<code class="sig-name descname">getGlobalCellTop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getGlobalCellTop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getGlobalCellTop" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the cell top (i.e. âtop rightâ), in global coordinate system.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.Grid">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">Grid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unitSteps</span><span class="o">=</span><span class="default_value">0, 0, 0</span></em>, <em class="sig-param"><span class="n">bounds</span><span class="o">=</span><span class="default_value">None, None, None</span></em>, <em class="sig-param"><span class="n">unitStepLimits</span><span class="o">=</span><span class="default_value">0, 1, 0, 1, 0, 1</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">geomType</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">symmetry</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A connected set of cells characterized by indices mapping to space and vice versa.</p>
<p>The cells may be characterized by any mixture of regular repeating steps and
user-defined steps in any direction.</p>
<p>For example, a 2-D hex lattice has constant, regular steps whereas a 3-D hex mesh
may have user-defined axial meshes. Similar for Cartesian, RZT, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unitSteps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">tuples</span></code>, <em>optional</em>) â <p>Describes the grid spatially as a function on indices.
Each tuple describes how each <code class="docutils literal notranslate"><span class="pre">(x,y,or</span> <span class="pre">z)</span></code> dimension is influenced by
<code class="docutils literal notranslate"><span class="pre">(i,j,k)</span></code>. In other words, it is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">dxi</span><span class="p">,</span> <span class="n">dxj</span><span class="p">,</span> <span class="n">jxk</span><span class="p">),</span> <span class="p">(</span><span class="n">dyi</span><span class="p">,</span> <span class="n">dyj</span><span class="p">,</span> <span class="n">dyk</span><span class="p">),</span> <span class="p">(</span><span class="n">dzi</span><span class="p">,</span> <span class="n">dzj</span><span class="p">,</span> <span class="n">dzk</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>where <code class="docutils literal notranslate"><span class="pre">dmn</span></code> is the distance (in cm) that dimension <code class="docutils literal notranslate"><span class="pre">m</span></code> will change as a</dt><dd><p>function of index <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
</dl>
<p>Unit steps are used as a generic method for defining repetitive grids in a
variety of geometries, including hexagonal and Cartesian.  The tuples are not
vectors in the direction of the translation, but rather grouped by direction. If
the bounds argument is described for a direction, the bounds will be used rather
than the unit step information.  The default of (0, 0, 0) makes all dimensions
insensitive to indices since the coordinates are calculated by the dot product
of this and the indices.  With this default, any dimension that is desired to
change with indices should be defined with bounds. RZtheta grids are created
exclusively with bounds.</p>
</p></li>
<li><p><strong>bounds</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">3-tuple</span></code>) â Absolute increasing bounds in cm including endpoints of a non-uniform grid.
Each item represents the boundaries in the associated direction.  Use Nones when
unitSteps should be applied instead. Most useful for thetaRZ grids or other
non-uniform grids.</p></li>
<li><p><strong>unitStepLimits</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">3-tuple</span></code>) â The limit of the steps in all three directions. This constrains step-defined
grids to be finite so we can populate them with SpatialLocator objects.</p></li>
<li><p><strong>offset</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">3-tuple</span></code>, <em>optional</em>) â Offset in cm for each axis. By default the center of the (0,0,0)-th object is in
the center of the grid.  Offsets can move it so that the (0,0,0)-th object can
be fully within a quadrant (i.e. in a Cartesian grid).</p></li>
<li><p><strong>armiObject</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ArmiObject</span></code>, <em>optional</em>) â The ArmiObject that this grid describes. For example if itâs a 1-D assembly
grid, the armiObject is the assembly. Note that <code class="docutils literal notranslate"><span class="pre">self.armiObject.spatialGrid</span></code>
is <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A 2D a rectangular grid with width (x) 2 and height (y) 3 would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">unitSteps</span><span class="o">=</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>A regular hex grid with pitch 1 is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">unitSteps</span><span class="o">=</span> <span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this unit hex the magnitude of the vector constructed using the
0th index of each tuple is 1.0.</p>
</div>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Each dimension must either be defined through unitSteps or bounds.
The combination of unitSteps with bounds was settled upon after some struggle to
have one unified definition of a grid (i.e. just bounds). A hexagonal grid is
somewhat challenging to represent with bounds because the axes are not orthogonal,
so a unit-direction vector plus bounds would be required. And then the bounds would
be wasted space because they can be derived simply by unit steps. Memory efficiency
is important in this object so the compact representation of
unitSteps-when-possible, bounds-otherwise was settled upon.</p>
<p>Design considerations include:</p>
<ul class="simple">
<li><p>unitSteps are more intuitive as operations starting from the center of a cell,
particularly with hexagons and rectangles. Otherwise the 0,0 position of a hexagon
in the center of 1/3-symmetric hexagon is at the phantom bottom left of the
hexagon.</p></li>
<li><p>Users generally prefer to input mesh bounds rather than centers (e.g. starting at
0.5 instead of 0.0 in a unit mesh is weird).</p></li>
<li><p>If we store bounds, computing bounds is simple and computing centers takes ~2x the
effort. If we store centers, itâs the opposite.</p></li>
<li><p>Regardless of how we store things, weâll need a Grid that has the lower-left
assembly fully inside the problem (i.e. for full core Cartesian) as well as
another one that has the lower-left assembly half-way or quarter-way sliced off
(for 1/2, 1/4, and 1/8 symmetries).  The <code class="docutils literal notranslate"><span class="pre">offset</span></code> parameter handles this.</p></li>
<li><p>Looking up mesh boundaries (to define a mesh in another code) is generally more
common than looking up centers (for plotting or measuring distance).</p></li>
<li><p>A grid can be anchored to the object that it is in with a backreference. This
gives it the ability to traverse the composite tree and map local to global
locations without having to duplicate the composite pattern on grids. This remains
optional so grids can be used for non-reactor-package reasons.  It may seem
slightly cleaner to set the armiObject to the parentâs spatialLocator itself
but the major disadvantage of this is that when an object moves, the armiObject
would have to be updated. By anchoring directly to Composite objects, the parent
is always up to date no matter where or how things get moved.</p></li>
<li><p>Unit step calculations use dot products and must not be polluted by the bound
indices. Thus we reduce the size of the unitSteps tuple accordingly.</p></li>
</ul>
</div>
<dl class="py method">
<dt id="armi.reactor.grids.Grid.fromRectangle">
<em class="property">classmethod </em><code class="sig-name descname">fromRectangle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">height</span></em>, <em class="sig-param"><span class="n">numRings</span><span class="o">=</span><span class="default_value">25</span></em>, <em class="sig-param"><span class="n">isOffset</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.fromRectangle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.fromRectangle" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a finite step-based 2-D Cartesian grid based on a width and height in cm.</p>
<dl class="simple">
<dt>isOffset<span class="classifier">bool</span></dt><dd><p>If true will put first mesh cell fully within the grid instead of centering
it on the crosshairs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.reduce">
<code class="sig-name descname">reduce</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.reduce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.reduce" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the set of arguments used to create this Grid.</p>
<p>This is very much like the argument tuple from <code class="docutils literal notranslate"><span class="pre">__reduce__</span></code>, but we do not
implement <code class="docutils literal notranslate"><span class="pre">__reduce__</span></code> for real, because we are generally happy with
<code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> and <code class="docutils literal notranslate"><span class="pre">__setstate__</span></code> for pickling purposes. However, getting
these arguments to <code class="docutils literal notranslate"><span class="pre">__init__</span></code> is useful for storing Grids to the database, as
they are more stable (less likely to change) than the actual internal state of
the objects.</p>
<p>The return value should be hashable, such that a set of these can be created.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.__getstate__">
<code class="sig-name descname">__getstate__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.__getstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.__getstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pickling removes reference to <code class="docutils literal notranslate"><span class="pre">armiObject</span></code></p>
<p>Removing the <code class="docutils literal notranslate"><span class="pre">armiObject</span></code> allows us to pickle an assembly without pickling the entire
reactor. An <code class="docutils literal notranslate"><span class="pre">Assembly.spatialLocator.grid.armiObject</span></code> is the reactor, by removing the link
here, we still have spatial orientation, but are not required to pickle the entire reactor
to pickle an assembly.</p>
<p>This relies on the <code class="docutils literal notranslate"><span class="pre">armiObject.__setstate__</span></code> to assign itself.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.__setstate__">
<code class="sig-name descname">__setstate__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.__setstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.__setstate__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pickling removes reference to <code class="docutils literal notranslate"><span class="pre">armiObject</span></code></p>
<p>This relies on the <code class="docutils literal notranslate"><span class="pre">ArmiObject.__setstate__</span></code> to assign itself.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.__getitem__">
<code class="sig-name descname">__getitem__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ijk</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.__getitem__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get a location by (i, j, k) indices. If it does not exist, create a new one and return it.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The method is defaultdict-like, in that it will create a new location on the fly. However,
the class itself is not really a dictionary, it is just index-able. For example, there is no
desire to have a <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> method, because the only way to create a location is by
retrieving it or through <code class="docutils literal notranslate"><span class="pre">buildLocations</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.items">
<code class="sig-name descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.items" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return list of ((i, j, k), IndexLocation) tuples.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.backUp">
<code class="sig-name descname">backUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.backUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.backUp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gather internal info that should be restored within a retainState.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.restoreBackup">
<code class="sig-name descname">restoreBackup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.restoreBackup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.restoreBackup" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getCoordinates">
<code class="sig-name descname">getCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em>, <em class="sig-param"><span class="n">nativeCoords</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCoordinates" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell at the given given indices in cm.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getCellBase">
<code class="sig-name descname">getCellBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCellBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCellBase" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the mesh base (lower left) of this mesh cell in cm</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getCellTop">
<code class="sig-name descname">getCellTop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCellTop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCellTop" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the mesh top (upper right) of this mesh cell in cm</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.locatorInDomain">
<code class="sig-name descname">locatorInDomain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase">armi.reactor.grids.LocationBase</a></span></em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.locatorInDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.locatorInDomain" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return whether the passed locator is in the domain represented by the Grid.</p>
<p>For instance, if we have a 1/3rd core hex grid, this would return False for
locators that are outside of the first third of the grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid._evaluateMesh">
<code class="sig-name descname">_evaluateMesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em>, <em class="sig-param"><span class="n">stepOperator</span></em>, <em class="sig-param"><span class="n">boundsOperator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid._evaluateMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid._evaluateMesh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Evaluate some function of indices on this grid.</p>
<p>Recall from above that steps are mesh centered and bounds are mesh edged.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This method may be able to be simplified. Complications from arbitrary
mixtures of bounds-based and step-based meshing caused it to get bad.
These were separate subclasses first, but in practice almost all cases have some mix
of step-based (hexagons, squares), and bounds based (radial, zeta).</p>
<p>Improvements welcome!</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid._centroidBySteps">
<code class="sig-name descname">_centroidBySteps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid._centroidBySteps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid._centroidBySteps" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid._meshBaseBySteps">
<code class="sig-name descname">_meshBaseBySteps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid._meshBaseBySteps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid._meshBaseBySteps" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid._centroidByBounds">
<code class="sig-name descname">_centroidByBounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">bounds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid._centroidByBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid._centroidByBounds" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid._meshBaseByBounds">
<code class="sig-name descname">_meshBaseByBounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">bounds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid._meshBaseByBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid._meshBaseByBounds" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getNeighboringCellIndices">
<code class="sig-name descname">getNeighboringCellIndices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getNeighboringCellIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getNeighboringCellIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the indices of the immediate neighbors of a mesh point in the plane.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getSymmetricEquivalents">
<code class="sig-name descname">getSymmetricEquivalents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getSymmetricEquivalents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getSymmetricEquivalents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a list of grid indices that contain matching contents based on symmetry.</p>
<p>The length of the list with depend on the type of symmetry being used, and
potentially the location of the requested indices. E.g.,
third-core will return the two sets of indices at the matching location in the
other two thirds of the grid, unless it is the central location, in which case
no indices will be returned.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getAboveAndBelowCellIndices">
<code class="sig-name descname">getAboveAndBelowCellIndices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getAboveAndBelowCellIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getAboveAndBelowCellIndices" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.cellIndicesContainingPoint">
<code class="sig-name descname">cellIndicesContainingPoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.cellIndicesContainingPoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.cellIndicesContainingPoint" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the indices of a mesh cell that contains a point.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.overlapsWhichSymmetryLine">
<code class="sig-name descname">overlapsWhichSymmetryLine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.overlapsWhichSymmetryLine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.overlapsWhichSymmetryLine" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getLabel">
<code class="sig-name descname">getLabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getLabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getLabel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get a string label from a 0-based spatial locator.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getLocationFromRingAndPos">
<code class="sig-name descname">getLocationFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getLocationFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getLocationFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the location based on ring and position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) â Ring index</p></li>
<li><p><strong>j</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) â Position index</p></li>
<li><p><strong>k</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em>) â Axial index</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.grids.HexGrid.getLocationFromRingAndPos" title="armi.reactor.grids.HexGrid.getLocationFromRingAndPos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HexGrid.getLocationFromRingAndPos()</span></code></a></dt><dd><p>This implements a special method to transform the i, j location based on ring and position.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getIndexBounds">
<code class="sig-name descname">getIndexBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getIndexBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getIndexBounds" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get min index and number of indices in this grid.</p>
<p>Step-defined grids would be infinite but for the step limits defined in the constructor.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This produces output that is intended to be passed to a <code class="docutils literal notranslate"><span class="pre">range</span></code> statement.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getBounds">
<code class="sig-name descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>Optional<span class="p">[</span>Sequence<span class="p">[</span>float<span class="p">]</span><span class="p">]</span><span class="p">, </span>Optional<span class="p">[</span>Sequence<span class="p">[</span>float<span class="p">]</span><span class="p">]</span><span class="p">, </span>Optional<span class="p">[</span>Sequence<span class="p">[</span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getBounds" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the grid bounds for each dimension, if present.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getIndicesFromRingAndPos">
<code class="sig-name descname">getIndicesFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ring</span></em>, <em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getIndicesFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getIndicesFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getAllIndices">
<code class="sig-name descname">getAllIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getAllIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getAllIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get all possible indices in this grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.buildLocations">
<code class="sig-name descname">buildLocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.buildLocations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.buildLocations" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Populate all grid cells with a characteristic SpatialLocator.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.getRingPos">
<code class="sig-name descname">getRingPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getRingPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getRingPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get ring and position number in this grid.</p>
<p>For non-hex grids this is just i and j.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.changePitch">
<code class="sig-name descname">changePitch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xw</span></em>, <em class="sig-param"><span class="n">yw</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.changePitch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.Grid.changePitch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Change the pitch of a Cartesian grid.</p>
<p>This also scales the offset.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.Grid.pitch">
<em class="property">property </em><code class="sig-name descname">pitch</code><a class="headerlink" href="#armi.reactor.grids.Grid.pitch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The pitch of the grid.</p>
<p>Assumes 2-d unit-step defined (works for cartesian)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.HexGrid">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">HexGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unitSteps</span><span class="o">=</span><span class="default_value">0, 0, 0</span></em>, <em class="sig-param"><span class="n">bounds</span><span class="o">=</span><span class="default_value">None, None, None</span></em>, <em class="sig-param"><span class="n">unitStepLimits</span><span class="o">=</span><span class="default_value">0, 1, 0, 1, 0, 1</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">geomType</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">symmetry</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.Grid</span></code></a></p>
<p>Has 6 neighbors in plane.</p>
<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.fromPitch">
<em class="property">static </em><code class="sig-name descname">fromPitch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pitch</span></em>, <em class="sig-param"><span class="n">numRings</span><span class="o">=</span><span class="default_value">25</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pointedEndUp</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.fromPitch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.fromPitch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a finite step-based 2-D hex grid from a hex pitch in cm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pitch</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â Hex pitch (flat-to-flat) in cm</p></li>
<li><p><strong>numRings</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em>) â The number of rings in the grid to pre-populate with locatator objects.
Even if positions are not pre-populated, locators will be generated
there on the fly.</p></li>
<li><p><strong>armiObject</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ArmiObject</span></code>, <em>optional</em>) â The object that this grid is anchored to (i.e. the reactor for a grid of
assemblies)</p></li>
<li><p><strong>pointedEndUp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <em>optional</em>) â Rotate the hexagons 30 degrees so that the pointed end faces up instead of
the flat.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A functional hexagonal grid object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#armi.reactor.grids.HexGrid" title="armi.reactor.grids.HexGrid">HexGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.pitch">
<em class="property">property </em><code class="sig-name descname">pitch</code><a class="headerlink" href="#armi.reactor.grids.HexGrid.pitch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the hex-pitch of a regular hexagonal array.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.reactor.grids.HexGrid.fromPitch" title="armi.reactor.grids.HexGrid.fromPitch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.reactor.grids.HexGrid.fromPitch</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getNeighboringCellIndices">
<code class="sig-name descname">getNeighboringCellIndices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getNeighboringCellIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getNeighboringCellIndices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the indices of the immediate neighbors of a mesh point in the plane.</p>
<p>Note that these neighbors are ordered counter-clockwise beginning from 2 oâclock.
This is very important!</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getLabel">
<code class="sig-name descname">getLabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getLabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getLabel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Hex labels start at 1.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getIndicesFromRingAndPos">
<code class="sig-name descname">getIndicesFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ring</span></em>, <em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getIndicesFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getIndicesFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getLocationFromRingAndPos">
<code class="sig-name descname">getLocationFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getLocationFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getLocationFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the location based on ring and position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) â Ring index</p></li>
<li><p><strong>j</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) â Position index</p></li>
<li><p><strong>k</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em>) â Axial index</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.reactor.grids.Grid.getLocationFromRingAndPos" title="armi.reactor.grids.Grid.getLocationFromRingAndPos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Grid.getLocationFromRingAndPos()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getRingPos">
<code class="sig-name descname">getRingPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getRingPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getRingPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get 1-based ring and position from normal indices.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.grids.getIndicesFromRingAndPos" title="armi.reactor.grids.getIndicesFromRingAndPos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getIndicesFromRingAndPos()</span></code></a></dt><dd><p>does the reverse</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.overlapsWhichSymmetryLine">
<code class="sig-name descname">overlapsWhichSymmetryLine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.overlapsWhichSymmetryLine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.overlapsWhichSymmetryLine" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a list of which lines of symmetry this is on.</p>
<p>If none, returns []
If on a line of symmetry in 1/6 geometry, returns a list containing a 6.
If on a line of symmetry in 1/3 geometry, returns a list containing a 3.
Only the 1/3 core view geometry is actually coded in here right now.</p>
<p>Being âonâ a symmety line means the line goes through the middle of you.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.getSymmetricEquivalents">
<code class="sig-name descname">getSymmetricEquivalents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getSymmetricEquivalents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getSymmetricEquivalents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a list of grid indices that contain matching contents based on symmetry.</p>
<p>The length of the list with depend on the type of symmetry being used, and
potentially the location of the requested indices. E.g.,
third-core will return the two sets of indices at the matching location in the
other two thirds of the grid, unless it is the central location, in which case
no indices will be returned.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid._getSymmetricIdenticalsThird">
<code class="sig-name descname">_getSymmetricIdenticalsThird</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid._getSymmetricIdenticalsThird"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid._getSymmetricIdenticalsThird" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This works by rotating the indices by 120 degrees twice, counterclockwise.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.triangleCoords">
<code class="sig-name descname">triangleCoords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.triangleCoords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.triangleCoords" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return 6 coordinate pairs representing the centers of the 6 triangles in a hexagon centered here.</p>
<p>Ignores z-coordinate and only operates in 2D for now.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.changePitch">
<code class="sig-name descname">changePitch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">newPitchCm</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.changePitch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.changePitch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Change the hex pitch.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.locatorInDomain">
<code class="sig-name descname">locatorInDomain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.locatorInDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.locatorInDomain" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return whether the passed locator is in the domain represented by the Grid.</p>
<p>For instance, if we have a 1/3rd core hex grid, this would return False for
locators that are outside of the first third of the grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.isInFirstThird">
<code class="sig-name descname">isInFirstThird</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span></em>, <em class="sig-param"><span class="n">includeTopEdge</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.isInFirstThird"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.isInFirstThird" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if locator is in first third of hex grid.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.generateSortedHexLocationList">
<code class="sig-name descname">generateSortedHexLocationList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nLocs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.generateSortedHexLocationList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.generateSortedHexLocationList" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate a list IndexLocations, sorted based on their distance from the center.</p>
<p>IndexLocation are taken from a full core.</p>
<p>Ties between locations with the same distance (e.g. A3001 and A3003) are broken
by ring number then position number.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.HexGrid.allPositionsInThird">
<code class="sig-name descname">allPositionsInThird</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ring</span></em>, <em class="sig-param"><span class="n">includeEdgeAssems</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.allPositionsInThird"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.allPositionsInThird" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a list of all the positions in a ring (in the first third)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ring</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) â The ring to check</p></li>
<li><p><strong>includeEdgeAssems</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <em>optional</em>) â If True, include repeated positions in odd ring numbers. Default: False</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Rings start at 1, positions start at 1</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>positions</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.grids.ThetaRZGrid">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">ThetaRZGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unitSteps</span><span class="o">=</span><span class="default_value">0, 0, 0</span></em>, <em class="sig-param"><span class="n">bounds</span><span class="o">=</span><span class="default_value">None, None, None</span></em>, <em class="sig-param"><span class="n">unitStepLimits</span><span class="o">=</span><span class="default_value">0, 1, 0, 1, 0, 1</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">geomType</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">symmetry</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.Grid</span></code></a></p>
<p>A grid characterized by azimuthal, radial, and zeta indices.</p>
<p>The angular meshes are limited to 0 to 2pi radians. R and Zeta are as in other
meshes.</p>
<p>See Figure 2.2 in Derstine 1984, ANL. <a class="reference internal" href="armi.nuclearDataIO.compxs.html#dif3d" id="id1"><span>[DIF3D]</span></a>.</p>
<dl class="py method">
<dt id="armi.reactor.grids.ThetaRZGrid.fromGeom">
<em class="property">static </em><code class="sig-name descname">fromGeom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geom</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.fromGeom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.fromGeom" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build 2-D R-theta grid based on a Geometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geomInfo</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>) â list of ((indices), assemName) tuples for all positions in core with input
in radians</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.reactor.geometry.SystemLayoutInput.readGeomXML()</span></code></dt><dd><p>produces the geomInfo</p>
</dd>
</dl>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">structure()</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">grids</span><span class="o">.</span><span class="n">ThetaRZGrid</span><span class="o">.</span><span class="n">fromGeom</span><span class="p">(</span><span class="n">geomInfo</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.ThetaRZGrid.getCoordinates">
<code class="sig-name descname">getCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em>, <em class="sig-param"><span class="n">nativeCoords</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.getCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.getCoordinates" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell at the given given indices in cm.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.grids.ThetaRZGrid.indicesOfBounds">
<code class="sig-name descname">indicesOfBounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rad0</span></em>, <em class="sig-param"><span class="n">rad1</span></em>, <em class="sig-param"><span class="n">theta0</span></em>, <em class="sig-param"><span class="n">theta1</span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">0.0001</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.indicesOfBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.indicesOfBounds" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return indices corresponding to upper and lower radial and theta bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rad0</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â inner radius of control volume</p></li>
<li><p><strong>rad1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â outer radius of control volume</p></li>
<li><p><strong>theta0</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â inner azimuthal location of control volume in radians</p></li>
<li><p><strong>theta1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â inner azimuthal of control volume in radians</p></li>
<li><p><strong>sigma</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) â acceptable relative error (i.e. if one of the positions in the mesh are within
this error itâll act the same if it matches a position in the mesh)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tuple</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">j</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">k</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">given</span> <span class="pre">bounds</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids.axialUnitGrid">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">axialUnitGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numCells</span></em>, <em class="sig-param"><span class="n">armiObject</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#axialUnitGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.axialUnitGrid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a 1-D unit grid in the k-direction based on a number of times. Each mesh is 1cm wide.</p>
<p>numCells + 1 mesh boundaries are added, since one block would require a bottom and a
top.</p>
</dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids.ringPosFromRingLabel">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">ringPosFromRingLabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ringLabel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ringPosFromRingLabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.ringPosFromRingLabel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert a ring-based label like A2003B into 1-based ring, location indices.</p>
</dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids.indicesToRingPos">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">indicesToRingPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#indicesToRingPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.indicesToRingPos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert spatialLocator indices to ring/position.</p>
<p>One benefit it has is that it never has negative numbers.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Ring, pos index system goes in counterclockwise hex rings.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids.getIndicesFromRingAndPos">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">getIndicesFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ring</span></em>, <em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#getIndicesFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.getIndicesFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids._indicesAndEdgeFromRingAndPos">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">_indicesAndEdgeFromRingAndPos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ring</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#_indicesAndEdgeFromRingAndPos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids._indicesAndEdgeFromRingAndPos" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids.addingIsValid">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">addingIsValid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">myGrid</span></em>, <em class="sig-param"><span class="n">parentGrid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#addingIsValid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids.addingIsValid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if adding a indices from one grid to another is considered valid.</p>
<p>In ARMI we allow the addition of a 1-D axial grid with a 2-D grid.
We do not allow any other kind of adding. This enables the 2D/1D
grid layout in Assemblies/Blocks but does not allow 2D indexing
in pins to become inconsistent.</p>
</dd></dl>

<dl class="py function">
<dt id="armi.reactor.grids._tuplify">
<code class="sig-prename descclassname">armi.reactor.grids.</code><code class="sig-name descname">_tuplify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">maybeArray</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#_tuplify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.grids._tuplify" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.reactor.locations.html" class="btn btn-neutral float-right" title="armi.reactor.locations module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.reactor.geometry.html" class="btn btn-neutral float-left" title="armi.reactor.geometry module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-08-14.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>