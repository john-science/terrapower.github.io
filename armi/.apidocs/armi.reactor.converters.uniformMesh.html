

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.reactor.converters.uniformMesh module &mdash; ARMI 0.1.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.reactor.parameters package" href="armi.reactor.parameters.html" />
    <link rel="prev" title="armi.reactor.converters.meshConverters module" href="armi.reactor.converters.meshConverters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.reactor.html">armi.reactor package</a> &raquo;</li>
        
          <li><a href="armi.reactor.converters.html">armi.reactor.converters package</a> &raquo;</li>
        
      <li>armi.reactor.converters.uniformMesh module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/.apidocs/armi.reactor.converters.uniformMesh.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.reactor.converters.uniformMesh">
<span id="armi-reactor-converters-uniformmesh-module"></span><h1>armi.reactor.converters.uniformMesh module<a class="headerlink" href="#module-armi.reactor.converters.uniformMesh" title="Permalink to this headline">¶</a></h1>
<p>Converts reactor with arbitrary axial meshing (e.g. multiple assemblies with different
axial meshes) to one with a global uniform axial mesh.</p>
<p>Useful for preparing inputs for physics codes that require structured meshes
from a more flexible ARMI reactor mesh.</p>
<p>This is implemented generically but includes a concrete subclass for
neutronics-specific parameters. This is used for build input files
for codes like DIF3D which require axially uniform meshes.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Build an average reactor with aligned axial meshes from a reactor with arbitrarily
unaligned axial meshes in a way that conserves nuclide mass</p></li>
<li><p>Translate state information computed on the uniform mesh back to the unaligned mesh.</p></li>
<li><p>For neutronics cases, all neutronics-related block params should be translated, as
well as the multigroup real and adjoint flux.</p></li>
</ol>
<p class="rubric">Examples</p>
<p>converter = uniformMesh.NeutronicsUniformMeshConverter()
uniformReactor = converter.convert(reactor)
# do calcs, then:
converter.applyStateToOriginal()</p>
<p>The mesh mapping happens as described in the figure:</p>
<div class="figure align-default">
<img alt="../_images/axial_homogenization.png" src="../_images/axial_homogenization.png" />
</div>
<dl class="py class">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.converters.uniformMesh.</code><code class="sig-name descname">UniformMeshGeometryConverter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.reactor.converters.geometryConverters.html#armi.reactor.converters.geometryConverters.GeometryConverter" title="armi.reactor.converters.geometryConverters.GeometryConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.converters.geometryConverters.GeometryConverter</span></code></a></p>
<p>Build uniform mesh version of the source reactor</p>
<dl class="py method">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.convert">
<code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new reactor with a uniform mesh.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.initNewReactor">
<em class="property">static </em><code class="sig-name descname">initNewReactor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceReactor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.initNewReactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.initNewReactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Built an empty version of the new reactor.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.makeAssemWithUniformMesh">
<em class="property">static </em><code class="sig-name descname">makeAssemWithUniformMesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceAssem</span></em>, <em class="sig-param"><span class="n">newMesh</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.makeAssemWithUniformMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.makeAssemWithUniformMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Build new assembly based on a source assembly but apply the uniform mesh.</p>
<p>The new assemblies must have appropriately mapped number densities as
input for a neutronics solve. They must also have other relevant
state parameters for follow-on steps. Thus, this maps many parameters
from the ARMI mesh to the uniform mesh.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal" title="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyStateToOriginal()</span></code></a></dt><dd><p>basically the reverse on the way out.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.plotConvertedReactor">
<code class="sig-name descname">plotConvertedReactor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.plotConvertedReactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.plotConvertedReactor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal">
<code class="sig-name descname">applyStateToOriginal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.applyStateToOriginal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal" title="Permalink to this definition">¶</a></dt>
<dd><p>Now that state is computed on the uniform mesh, map it back to ARMI mesh.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.converters.uniformMesh.</code><code class="sig-name descname">NeutronicsUniformMeshConverter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#NeutronicsUniformMeshConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter" title="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter</span></code></a></p>
<p>A uniform mesh converter that specifically maps neutronics parameters.</p>
<p>This is useful for codes like DIF3D.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>If a case runs where two mesh conversions happen one after the other
(e.g. a fixed source gamma transport step that needs appropriate
fission rates), it is essential that the neutronics params be
mapped onto the newly converted reactor as well as off of it
back to the source reactor.</p>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.reactor.parameters.html" class="btn btn-neutral float-right" title="armi.reactor.parameters package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.reactor.converters.meshConverters.html" class="btn btn-neutral float-left" title="armi.reactor.converters.meshConverters module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-07-29.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>