

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.physics.neutronics.globalFlux.globalFluxInterface module &mdash; ARMI 0.1.2-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.physics.neutronics.isotopicDepletion package" href="armi.physics.neutronics.isotopicDepletion.html" />
    <link rel="prev" title="armi.physics.neutronics.globalFlux package" href="armi.physics.neutronics.globalFlux.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.2-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.physics.html">armi.physics package</a> &raquo;</li>
        
          <li><a href="armi.physics.neutronics.html">armi.physics.neutronics package</a> &raquo;</li>
        
          <li><a href="armi.physics.neutronics.globalFlux.html">armi.physics.neutronics.globalFlux package</a> &raquo;</li>
        
      <li>armi.physics.neutronics.globalFlux.globalFluxInterface module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/.apidocs/armi.physics.neutronics.globalFlux.globalFluxInterface.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.physics.neutronics.globalFlux.globalFluxInterface">
<span id="armi-physics-neutronics-globalflux-globalfluxinterface-module"></span><h1>armi.physics.neutronics.globalFlux.globalFluxInterface module<a class="headerlink" href="#module-armi.physics.neutronics.globalFlux.globalFluxInterface" title="Permalink to this headline">¶</a></h1>
<p>The Global flux interface provide a base class for all neutronics tools that compute the neutron and/or photon flux.</p>
<dl class="class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxInterface</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.Interface" title="armi.interfaces.Interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.interfaces.Interface</span></code></a></p>
<p>A general abstract interface for global flux calculating modules.</p>
<p>Should be subclassed</p>
<p>Construct an interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">cs</span></code> arguments are required, but may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, where
appropriate for the specific <code class="docutils literal notranslate"><span class="pre">Interface</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><em>Reactor</em></a>) – A reactor to attach to</p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>Settings</em></a>) – Settings object to use</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – Interfaces derived from Interface must define their name</p>
</dd>
</dl>
<dl class="attribute">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.name">
<code class="sig-name descname">name</code><em class="property"> = None</em><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.function">
<code class="sig-name descname">function</code><em class="property"> = 'globalFlux'</em><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getHistoryParams">
<code class="sig-name descname">getHistoryParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.getHistoryParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getHistoryParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parameters that will be added to assembly versus time history printouts.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactBOC">
<code class="sig-name descname">interactBOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactBOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactBOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the beginning of each cycle.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEOC">
<code class="sig-name descname">interactEOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactEOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the end of each cycle.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getIOFileNames">
<code class="sig-name descname">getIOFileNames</code><span class="sig-paren">(</span><em class="sig-param">cycle</em>, <em class="sig-param">node</em>, <em class="sig-param">coupledIter=None</em>, <em class="sig-param">additionalLabel=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.getIOFileNames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getIOFileNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the input and output file names for this run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycle</strong> (<em>int</em>) – The cycle number</p></li>
<li><p><strong>node</strong> (<em>int</em>) – The burn node number (e.g. 0 for BOC, 1 for MOC, etc.)</p></li>
<li><p><strong>coupledIter</strong> (<em>int</em><em>, </em><em>optional</em>) – Coupled iteration number (for tightly-coupled cases)</p></li>
<li><p><strong>additionalLabel</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional tag to the file names to differentiate them
from another case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>inName</strong> (<em>str</em>) – Input file name</p></li>
<li><p><strong>outName</strong> (<em>str</em>) – Output file name</p></li>
<li><p><strong>stdName</strong> (<em>str</em>) – Standard output file name</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.retrieveOutputFiles">
<code class="sig-name descname">retrieveOutputFiles</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.retrieveOutputFiles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.addNewOutputFileToRetrieve">
<code class="sig-name descname">addNewOutputFileToRetrieve</code><span class="sig-paren">(</span><em class="sig-param">sourceName</em>, <em class="sig-param">destinationName=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.addNewOutputFileToRetrieve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.addNewOutputFileToRetrieve" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new file to the list of files that will be copied to the shared drive after a run.</p>
<p>These should be names only, not paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourceName</strong> (<em>str</em>) – The name of the file in the source location, e.g. <cite>FT06</cite></p></li>
<li><p><strong>destinationName</strong> (<em>str</em><em> or </em><em>None</em>) – The name of the file in the destination location, e.g. <cite>caseName.dif3d.out</cite></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="armi.utils.directoryChangers.html#armi.utils.directoryChangers.DirectoryChanger.retrieveFiles" title="armi.utils.directoryChangers.DirectoryChanger.retrieveFiles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.utils.directoryChangers.DirectoryChanger.retrieveFiles()</span></code></a></dt><dd><p>should be used instead of this.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.specifyOutputFilesToRetrieve">
<code class="sig-name descname">specifyOutputFilesToRetrieve</code><span class="sig-paren">(</span><em class="sig-param">inName</em>, <em class="sig-param">outName</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.specifyOutputFilesToRetrieve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.specifyOutputFilesToRetrieve" title="Permalink to this definition">¶</a></dt>
<dd><p>determines which output files will be retrieved from the run directory</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This just resets the list at every run. The real work is done in the subclass methods.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">terrapower.physics.neutronics.dif3d.dif3dInterface.Dif3dInterface.specifyOutputFilesToRetrieve()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeff">
<code class="sig-name descname">calculateKeff</code><span class="sig-paren">(</span><em class="sig-param">inf</em>, <em class="sig-param">outf</em>, <em class="sig-param">genXS=''</em>, <em class="sig-param">baseList=None</em>, <em class="sig-param">forceSerial=False</em>, <em class="sig-param">xsLibrarySuffix=''</em>, <em class="sig-param">updateArmi=False</em>, <em class="sig-param">outputsToCopyBack=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.calculateKeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Run neutronics calculation and return keff</p>
<p>Handles some XS generation stuff as well, optionally. Usefull when you
just need to know keff of the current state (like in rx coeffs, CR worth)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inf</strong> (<em>str</em>) – input file name</p></li>
<li><p><strong>outf</strong> (<em>str</em>) – a dif3d/rebus output file name that will be generated</p></li>
<li><p><strong>genXS</strong> (<em>str</em>) – type of particle you want MC**2 to regenerate cross sections for allowed values
of genXS setting.</p></li>
<li><p><strong>baseList</strong> (<em>list</em>) – MC**2 bases to generate (QA, QAF) if you want a partial MC**2 run</p></li>
<li><p><strong>forceSerial</strong> (<em>bool</em>) – forces the MC**2 runs to run on a single processor</p></li>
<li><p><strong>xsLibrarySuffix</strong> (<em>str</em>) – will get appended to the library name ISOTXS.</p></li>
<li><p><strong>updateArmi</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, will update the ARMI state (reactor, assems, blocks) with the
results of the neutronics run. Defaults to False so
flux distributions used in weighting blocks for XS don’t get mixed up.</p></li>
<li><p><strong>outputsToCopyBack</strong> (<em>str</em><em>, </em><em>optional</em>) – Copy a subset of files back to the main path in fastPath cases. Takes
time but good for debugging/restarts.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>rebOut</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>a Rebus_Output class containing neutronics output information</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateFlux" title="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateFlux"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calculateFlux()</span></code></a></dt><dd><p>does this but handles lots of other bookkeeping stuff that is important during a main operator loop.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeffFiniteDifference">
<code class="sig-name descname">calculateKeffFiniteDifference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.calculateKeffFiniteDifference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeffFiniteDifference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateFlux">
<code class="sig-name descname">calculateFlux</code><span class="sig-paren">(</span><em class="sig-param">cycle</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.calculateFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateFlux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">inName</em>, <em class="sig-param">outName</em>, <em class="sig-param">path=None</em>, <em class="sig-param">branchNum=None</em>, <em class="sig-param">libNames=None</em>, <em class="sig-param">outputsToCopyBack=''</em>, <em class="sig-param">updateArmi=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.edgeAssembliesAreNeeded">
<code class="sig-name descname">edgeAssembliesAreNeeded</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.edgeAssembliesAreNeeded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.edgeAssembliesAreNeeded" title="Permalink to this definition">¶</a></dt>
<dd><p>True if edge assemblies are needed in this calculation</p>
<p>We only need them in finite difference cases that are not full core.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.clearFlux">
<code class="sig-name descname">clearFlux</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.clearFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.clearFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete flux on all blocks. Needed to prevent stale flux when partially reloading.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.buildBlockMeshLookup">
<code class="sig-name descname">buildBlockMeshLookup</code><span class="sig-paren">(</span><em class="sig-param">useWholeHexNodalOrdering=False</em>, <em class="sig-param">plotMesh=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.buildBlockMeshLookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.buildBlockMeshLookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a lookup table between finite difference mesh points and blocks.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This method builds a dictionary. blockLookup[(i,j,k)] = block that’s in i,j,k.
They start at 1, following loc.containsWhichFDMEshPointsThird</p>
<p>WARNING: When useWholeHexNodalOrdering = True, this function will give wrong neighbors
when the 120-degree symmetry line “edge assemblies” are present. Be careful!</p>
<p>These mesh indices should start at 1, just like DIF3D. DIFNT switches to 0 based indexing though.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>useWholeHexNodalOrdering</strong> (<em>bool</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>If True, ijList will contain the (i,j) = (ring,pos) indices of hex assemblies.</dt><dd><p>Thus, the axial block locations will be looked up based on which assembly contains them.
This is used by fluxRecon.computePinMGFluxAndPower to map nodal surface data from NHFLUX
to ARMI blocks (in terms of axial divisions).</p>
</dd>
<dt>If False, ijList will contain the triangular FD mesh indices from loc.containsWhichFDMeshPoints,</dt><dd><p>which do NOT correspond to whole hex assemblies. This was how buildBlockMeshLookup always worked
before the useWholeHexNodalOrdering option was added.</p>
</dd>
</dl>
</p></li>
<li><p><strong>plotMesh</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, will print a pdf of the mesh.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>meshLookup</strong> (<em>3-D array of block objects</em>) –</p>
<dl class="simple">
<dt>b = meshLookup[i,j,k] is the ARMI block object that contains the finite difference mesh node indexed</dt><dd><p>by i, j, and k. Here (i,j) is the index pair in ijList and k is the axial index.</p>
</dd>
</dl>
</li>
<li><p><strong>(iMax,jMax,kMax)</strong> (<em>tuple</em>) –</p>
<dl class="simple">
<dt>These are the maximum values of the finite difference mesh indices i, j, and k. Here k is the axial index,</dt><dd><p>while i and j can be different hex/triangular indexing systems.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fluxRecon.computePinMGFluxAndPower()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">HexLocation.containsWhichFDMeshPoints()</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – When blocks are not found.</p></li>
<li><p><strong>RuntimeError</strong> – When not all blocks are looped over.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateDpaRate">
<code class="sig-name descname">updateDpaRate</code><span class="sig-paren">(</span><em class="sig-param">blockList=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.updateDpaRate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateDpaRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update state parameters that can be known right after the flux is computed</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateFluenceAndDpa" title="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateFluenceAndDpa"><code class="xref py py-meth docutils literal notranslate"><span class="pre">updateFluenceAndDpa()</span></code></a></dt><dd><p>uses values computed here to update cumulative dpa</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateMaxDpaParams">
<code class="sig-name descname">updateMaxDpaParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.updateMaxDpaParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateMaxDpaParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Update params that track the peak dpa.</p>
<p>Only consider fuel because CRs, etc. aren’t always reset.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateFluenceAndDpa">
<code class="sig-name descname">updateFluenceAndDpa</code><span class="sig-paren">(</span><em class="sig-param">stepTimeInSeconds</em>, <em class="sig-param">blockList=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.updateFluenceAndDpa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateFluenceAndDpa" title="Permalink to this definition">¶</a></dt>
<dd><p>updates the fast fluence and the DPA of the blocklist</p>
<p>The dpa rate from the previous timestep is used to compute the dpa here.</p>
<dl class="simple">
<dt>There are several items of interest computed here, including:</dt><dd><ul class="simple">
<li><p>detailedDpa: The average DPA of a block</p></li>
<li><dl class="simple">
<dt>detailedDpaPeak: The peak dpa of a block, considering axial and radial peaking</dt><dd><p>The peaking is based either on a user-provided peaking factor (computed in a
pin reconstructed rotation study) or the nodal flux peaking factors</p>
</dd>
</dl>
</li>
<li><p>dpaPeakFromFluence: fast fluence * fluence conversion factor (old and inaccurate). Used to be dpaPeak</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stepTimeInSeconds</strong> (<em>float</em>) – Time in seconds that the cycle ran at the current mgFlux</p></li>
<li><p><strong>blockList</strong> (<em>list</em><em>, </em><em>optional</em>) – blocks to be updated. Defaults to all blocks in core</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateDpaRate" title="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateDpaRate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">updateDpaRate()</span></code></a></dt><dd><p>updates the DPA rate used here to compute actual dpa</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateCycleDoseParams">
<code class="sig-name descname">updateCycleDoseParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.updateCycleDoseParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateCycleDoseParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates reactor params based on the amount of dose (detailedDpa) accrued this cycle
Params updated include:</p>
<p>maxDetailedDpaThisCycle
dpaFullWidthHalfMax
elevationOfACLP3Cycles
elevationOfACLP7Cycles</p>
<p>These parameters are left as zeroes at BOC because no dose has been accumulated yet.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateLoadpadDose">
<code class="sig-name descname">updateLoadpadDose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.updateLoadpadDose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.updateLoadpadDose" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the dose in DPA of the above-core load pad.</p>
<p>This sets the following reactor params:</p>
<ul class="simple">
<li><p>loadPadDpaPeak : the peak dpa in any load pad</p></li>
<li><p>loadPadDpaAvg : the highest average dpa in any load pad</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This only makes sense for cores with load
pads on their assemblies.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">_calcLoadPadDose()</span></code></dt><dd><p>computes the load pad dose</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.plotMeshLookup">
<code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">plotMeshLookup</code><span class="sig-paren">(</span><em class="sig-param">meshLookup</em>, <em class="sig-param">myK=2</em>, <em class="sig-param">fName='meshPlot.pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#plotMeshLookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.plotMeshLookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the mesh lookup in one slab.</p>
</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.getXY120">
<code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">getXY120</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">j</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#getXY120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.getXY120" title="Permalink to this definition">¶</a></dt>
<dd><p>Get xy coords for i,j indices in fig 2.4 DIF3D manual.</p>
<p>Assumes triangleside length 1.0</p>
</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.computeDpaRate">
<code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">computeDpaRate</code><span class="sig-paren">(</span><em class="sig-param">mgFlux</em>, <em class="sig-param">dpaXs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#computeDpaRate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.computeDpaRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the DPA rate incurred by exposure of a certain flux spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mgFlux</strong> (<em>list</em>) – multigroup neutron flux in #/cm^2/s</p></li>
<li><p><strong>dpaXs</strong> (<em>list</em>) – DPA cross section in barns to convolute with flux to determine DPA rate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dpaPerSecond</strong> – The dpa/s in this material due to this flux</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Displacements calculated by displacement XS
Displacement rate = flux * nHT9 * barn  [in #/cm^3/s]</p>
<blockquote>
<div><p>= [#/cm^2/s] * [1/cm^3] * [barn]
= [#/cm^5/s] * [barn] * 1e-24 [cm^2/barn]
= [#/cm^3/s]</p>
</div></blockquote>
<dl>
<dt>DPA rate = displacement density rate / (number of atoms/cc)</dt><dd><p>= dr [#/cm^3/s] / (nHT9)  [1/cm^3]
= flux * barn * 1e-24</p>
<p>flux * N * xs</p>
</dd>
</dl>
</div>
<dl class="simple">
<dt>DPA / s=  —————–  = flux * xs</dt><dd><p>N</p>
</dd>
</dl>
<p>nHT9 cancels out. It’s in the macroscopic XS and in the original number of atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – Negative dpa rate.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.physics.neutronics.isotopicDepletion.html" class="btn btn-neutral float-right" title="armi.physics.neutronics.isotopicDepletion package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.physics.neutronics.globalFlux.html" class="btn btn-neutral float-left" title="armi.physics.neutronics.globalFlux package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2019-11-15.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>