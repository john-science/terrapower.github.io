

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.reactor.geometry module &mdash; ARMI 0.1.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.reactor.grids module" href="armi.reactor.grids.html" />
    <link rel="prev" title="armi.reactor.flags module" href="armi.reactor.flags.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.reactor.html">armi.reactor package</a> &raquo;</li>
        
      <li>armi.reactor.geometry module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/.apidocs/armi.reactor.geometry.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.reactor.geometry">
<span id="armi-reactor-geometry-module"></span><h1>armi.reactor.geometry module<a class="headerlink" href="#module-armi.reactor.geometry" title="Permalink to this headline">¶</a></h1>
<p>Reads the input files that define where the major systems are and what’s in them.</p>
<p>This includes the core-map, showing which assemblies are where in a core,
and may also include a spent fuel pool, pumps, heat exchangers, etc.</p>
<p>The blueprints input files define the low-level dimensions and compositions
of parts, and this file maps those definitions to locations throughout the
reactor model.</p>
<p>It may eventually also describe the pin-maps within assemblies for solid fuel.</p>
<p>Historically, this file was called the “Geometry Input File”, but that’s too
generic so we changed it to reduce new user confusion.</p>
<p>Where the original geom.xml file had just one set of assemblies
in the core and other systems were pointed to in the blueprints
file, we eventually anticipate moving all systems definitions
to this geometry file.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">reactor.blueprints.reactorBlueprint</span></code></p>
</div>
<dl class="class">
<dt id="armi.reactor.geometry.GeomType">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.geometry.</code><code class="sig-name descname">GeomType</code><a class="reference internal" href="../_modules/armi/reactor/geometry.html#GeomType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.GeomType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Enumeration of geometry types.</p>
<p>Historically, ARMI has used strings to specify and express things like geometry type
and symmetry conditions. This makes interpretation of user input straightforward,
but is less ergonomic, less efficient, and more error-prone within the code. For
instance:</p>
<blockquote>
<div><ul class="simple">
<li><p>is “quarter reflective” the same as “reflective quarter”? Should it be?</p></li>
<li><p>code that needs to interpret these need to use string operations, which are
non-trivial compared to enum comparisons.</p></li>
<li><p>rules about mutual exclusion (hex and Cartesian can’t both be used in the same
context) and composability (geometry type + domain + symmetry type) are harder to
enforce.</p></li>
</ul>
</div></blockquote>
<p>Instead, we hope to parse user input into a collection of enumerations and use those
internally throughout the code. Future work should expand this to satisfy all needs
of the geometry system and refactor to replace use of the string constants.</p>
<dl class="attribute">
<dt id="armi.reactor.geometry.GeomType.HEX">
<code class="sig-name descname">HEX</code><em class="property"> = 1</em><a class="headerlink" href="#armi.reactor.geometry.GeomType.HEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="armi.reactor.geometry.GeomType.CARTESIAN">
<code class="sig-name descname">CARTESIAN</code><em class="property"> = 2</em><a class="headerlink" href="#armi.reactor.geometry.GeomType.CARTESIAN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="armi.reactor.geometry.GeomType.RZT">
<code class="sig-name descname">RZT</code><em class="property"> = 3</em><a class="headerlink" href="#armi.reactor.geometry.GeomType.RZT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="armi.reactor.geometry.GeomType.RZ">
<code class="sig-name descname">RZ</code><em class="property"> = 4</em><a class="headerlink" href="#armi.reactor.geometry.GeomType.RZ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.GeomType.fromStr">
<em class="property">classmethod </em><code class="sig-name descname">fromStr</code><span class="sig-paren">(</span><em class="sig-param">geomStr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#GeomType.fromStr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.GeomType.fromStr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.reactor.geometry.loadFromCs">
<code class="sig-prename descclassname">armi.reactor.geometry.</code><code class="sig-name descname">loadFromCs</code><span class="sig-paren">(</span><em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#loadFromCs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.loadFromCs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to load Geoemtry based on supplied <code class="docutils literal notranslate"><span class="pre">CaseSettings</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="armi.reactor.geometry.SystemLayoutInput">
<em class="property">class </em><code class="sig-prename descclassname">armi.reactor.geometry.</code><code class="sig-name descname">SystemLayoutInput</code><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Geometry file. Contains 2-D mapping of geometry.</p>
<dl class="attribute">
<dt id="armi.reactor.geometry.SystemLayoutInput.ROOT_TAG">
<code class="sig-name descname">ROOT_TAG</code><em class="property"> = 'reactor'</em><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.ROOT_TAG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.readGeomFromFile">
<code class="sig-name descname">readGeomFromFile</code><span class="sig-paren">(</span><em class="sig-param">fName</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.readGeomFromFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.readGeomFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the 2-d geometry input file.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.geometry.fromReactor" title="armi.reactor.geometry.fromReactor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fromReactor()</span></code></a></dt><dd><p>Build SystemLayoutInput from a Reactor object.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.readGeomFromStream">
<code class="sig-name descname">readGeomFromStream</code><span class="sig-paren">(</span><em class="sig-param">stream</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.readGeomFromStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.readGeomFromStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Read geometry info from a stream.</p>
<p>This populates the object with info from any source.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>There are two formats of geometry: yaml and xml. This tries
xml first (legacy), and if it fails it tries yaml.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.toGridBlueprints">
<code class="sig-name descname">toGridBlueprints</code><span class="sig-paren">(</span><em class="sig-param">name: str = 'core'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.toGridBlueprints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.toGridBlueprints" title="Permalink to this definition">¶</a></dt>
<dd><p>Migrate old-style SystemLayoutInput to new GridBlueprint.</p>
<p>Returns a list of GridBlueprint objects. There will at least be one entry,
containing the main core layout. If equilibrium fuel paths are specified, it
will occupy the second element.</p>
</dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.modifyEqPaths">
<code class="sig-name descname">modifyEqPaths</code><span class="sig-paren">(</span><em class="sig-param">modifiedPaths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.modifyEqPaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.modifyEqPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the geometry object by updating the equilibrium path indices and equilibrium path cycles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modifiedPaths</strong> (<em>dict</em><em>, </em><em>required</em>) – This is a dictionary that contains the indices that are mapped to the
eqPathIndex and eqPathCycle.  modifiedPath[indices] = (eqPathIndex,
eqPathCycle)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.writeGeom">
<code class="sig-name descname">writeGeom</code><span class="sig-paren">(</span><em class="sig-param">outputFileName</em>, <em class="sig-param">suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.writeGeom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.writeGeom" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data out as a geometry xml file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputFileName</strong> (<em>str</em>) – Geometry file name</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – Added suffix to the geometry output file name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.reactor.geometry.SystemLayoutInput.growToFullCore">
<code class="sig-name descname">growToFullCore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#SystemLayoutInput.growToFullCore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.SystemLayoutInput.growToFullCore" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert geometry input to full core.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This only works for Hex 1/3rd core geometry inputs.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.reactor.geometry.fromReactor">
<code class="sig-prename descclassname">armi.reactor.geometry.</code><code class="sig-name descname">fromReactor</code><span class="sig-paren">(</span><em class="sig-param">reactor</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/geometry.html#fromReactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.reactor.geometry.fromReactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Build SystemLayoutInput object based on the current state of a Reactor.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">readGeomFromFile()</span></code></dt><dd><p>Builds a SystemLayoutInput from an XML file.</p>
</dd>
</dl>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.reactor.grids.html" class="btn btn-neutral float-right" title="armi.reactor.grids module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.reactor.flags.html" class="btn btn-neutral float-left" title="armi.reactor.flags module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-04-10.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>