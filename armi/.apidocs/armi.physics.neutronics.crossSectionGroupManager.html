

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.physics.neutronics.crossSectionGroupManager module &mdash; ARMI 0.1.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.physics.neutronics.crossSectionSettings module" href="armi.physics.neutronics.crossSectionSettings.html" />
    <link rel="prev" title="armi.physics.neutronics.const module" href="armi.physics.neutronics.const.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.physics.html">armi.physics package</a> &raquo;</li>
        
          <li><a href="armi.physics.neutronics.html">armi.physics.neutronics package</a> &raquo;</li>
        
      <li>armi.physics.neutronics.crossSectionGroupManager module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/.apidocs/armi.physics.neutronics.crossSectionGroupManager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.physics.neutronics.crossSectionGroupManager">
<span id="armi-physics-neutronics-crosssectiongroupmanager-module"></span><h1>armi.physics.neutronics.crossSectionGroupManager module<a class="headerlink" href="#module-armi.physics.neutronics.crossSectionGroupManager" title="Permalink to this headline">¶</a></h1>
<p>Cross section group manager handles burnup-dependent properties of microscopic cross sections.</p>
<p>Blocks are specified to be in a certain <em>cross section type</em> and <em>burnup group</em>. Together,
these form the <em>cross section group</em>. By advancing blocks by their burnup into
different groups, we capture some of the physical effects related to depletion.</p>
<p>XS types are typically single capital letters like A
BU groups are also capital letters.
A XS group of AB is in XS type <code class="docutils literal notranslate"><span class="pre">A</span></code> and burnup group <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>This module groups the blocks according to their XS groups and can determine
which block is to be deemed <strong>representative</strong> of an entire set of blocks in a particular xs group.
Then the representative block is sent to a lattice physics kernel for actual physics
calculations.</p>
<p>Generally, the cross section manager is a attribute of the lattice physics code interface (e.g.
the <code class="xref py py-mod docutils literal notranslate"><span class="pre">mc2Interface</span></code>.</p>
<p class="rubric">Examples</p>
<p>csm = CrossSectionGroupManager()
csm._setBuGroupBounds(cs[‘buGroups’])
csm._addXsGroupsFromBlocks(blockList)
csm.createRepresentativeBlocks()
representativeBlockList = csm.representativeBlocks.values()
blockThatRepresentsBA = csm.representativeBlocks[‘BA’]</p>
<p>The class diagram is provided in <a class="reference internal" href="#xsgm-class-diagram">xsgm-class-diagram</a></p>
<div class="docutils container" id="xsgm-class-diagram">
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/pyr_classes_armi.physics.neutronics.crossSectionGroupManager.png"><img alt="XSGM class diagram " src="../_images/pyr_classes_armi.physics.neutronics.crossSectionGroupManager.png" style="width: 90%;" /></a>
</div>
<blockquote>
<div><p>Class inheritance diagram for <code class="xref py py-mod docutils literal notranslate"><span class="pre">crossSectionGroupManager</span></code>.</p>
</div></blockquote>
</div>
<dl class="function">
<dt id="armi.physics.neutronics.crossSectionGroupManager.describeInterfaces">
<code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">describeInterfaces</code><span class="sig-paren">(</span><em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#describeInterfaces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.describeInterfaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for exposing interface(s) to other code</p>
</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.crossSectionGroupManager.getXSTypeNumberFromLabel">
<code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">getXSTypeNumberFromLabel</code><span class="sig-paren">(</span><em class="sig-param">xsTypeLabel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#getXSTypeNumberFromLabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.getXSTypeNumberFromLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a XSID label (e.g. ‘AA’) to an integer.</p>
<p>Useful for visualizing XS type in XTVIEW.</p>
<p>2-digit labels are supported when there is only one burnup group.</p>
</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.crossSectionGroupManager.getXSTypeLabelFromNumber">
<code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">getXSTypeLabelFromNumber</code><span class="sig-paren">(</span><em class="sig-param">xsTypeNumber</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#getXSTypeLabelFromNumber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.getXSTypeLabelFromNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a XSID label (e.g. 65) to an XS label (e.g. ‘A’).</p>
<p>Useful for visualizing XS type in XTVIEW.</p>
<p>2-digit labels are supported when there is only one burnup group.</p>
</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.BlockCollection">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">BlockCollection</code><span class="sig-paren">(</span><em class="sig-param">allNuclidesInProblem</em>, <em class="sig-param">validBlockTypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#BlockCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Controls which blocks are representative of a particular cross section type/BU group</p>
<p>This is a list with special methods.</p>
<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.BlockCollection.createRepresentativeBlock">
<code class="sig-name descname">createRepresentativeBlock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#BlockCollection.createRepresentativeBlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection.createRepresentativeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a block that best represents all blocks in group.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.BlockCollection.calcAvgNuclideTemperatures">
<code class="sig-name descname">calcAvgNuclideTemperatures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#BlockCollection.calcAvgNuclideTemperatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection.calcAvgNuclideTemperatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average nuclide temperatures in this collection based on the blocks in the collection.</p>
<p>If a nuclide is in multiple components, that’s taken into consideration.</p>
<div class="math notranslate nohighlight">
\[T = \frac{\sum{n_i v_i T_i}}{\sum{n_i v_i}}\]</div>
<p>where <span class="math notranslate nohighlight">\(n_i\)</span> is a number density, <span class="math notranslate nohighlight">\(v_i\)</span> is a volume, and <span class="math notranslate nohighlight">\(T_i\)</span> is a temperature.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">terrapower.physics.neutronics.mc2.mc2Writers.Mc2Writer._getAllNuclideDensities()</span></code></dt><dd><p>uses these values</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.BlockCollection.getWeight">
<code class="sig-name descname">getWeight</code><span class="sig-paren">(</span><em class="sig-param">block</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#BlockCollection.getWeight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection.getWeight" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value of weighting function for this block</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.BlockCollection.getCandidateBlocks">
<code class="sig-name descname">getCandidateBlocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#BlockCollection.getCandidateBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection.getCandidateBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get blocks in this collection that are the valid representative type.</p>
<p>Often, peripheral non-fissile blocks (reflectors, control, shields) need cross sections but
cannot produce them alone. You can approximate their cross sections by placing them in certain cross
section groups. However, we do not want these blocks to be included in the spectrum
calculations that produce cross sections. Therefore the subset of valid representative
blocks are used to compute compositions, temperatures, etc.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The proper way to treat non-fuel blocks is to apply a leakage spectrum from fuel onto them.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.MedianBlockCollection">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">MedianBlockCollection</code><span class="sig-paren">(</span><em class="sig-param">allNuclidesInProblem</em>, <em class="sig-param">validBlockTypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#MedianBlockCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.MedianBlockCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection" title="armi.physics.neutronics.crossSectionGroupManager.BlockCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.crossSectionGroupManager.BlockCollection</span></code></a></p>
<p>Returns the median burnup block. This is a simple and often accurate approximation.</p>
</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.AverageBlockCollection">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">AverageBlockCollection</code><span class="sig-paren">(</span><em class="sig-param">allNuclidesInProblem</em>, <em class="sig-param">validBlockTypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#AverageBlockCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.AverageBlockCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection" title="armi.physics.neutronics.crossSectionGroupManager.BlockCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.crossSectionGroupManager.BlockCollection</span></code></a></p>
<p>Block collection that builds a new block based on others in collection</p>
<p>Averages number densities, fission product yields, and fission gas
removal fractions.</p>
</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.crossSectionGroupManager.getBlockNuclideTemperatureAvgTerms">
<code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">getBlockNuclideTemperatureAvgTerms</code><span class="sig-paren">(</span><em class="sig-param">block</em>, <em class="sig-param">allNucNames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#getBlockNuclideTemperatureAvgTerms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.getBlockNuclideTemperatureAvgTerms" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute terms (numerator, denominator) of average for this block.</p>
<p>This volume-weights the densities by component volume fraction.</p>
<p>It’s important to count zero-density nuclides (i.e. ones like AM242 that are expected to build up)
as trace values at the proper component temperatures.</p>
</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.SlabComponentsAverageBlockCollection">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">SlabComponentsAverageBlockCollection</code><span class="sig-paren">(</span><em class="sig-param">allNuclidesInProblem</em>, <em class="sig-param">validBlockTypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#SlabComponentsAverageBlockCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.SlabComponentsAverageBlockCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection" title="armi.physics.neutronics.crossSectionGroupManager.BlockCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.crossSectionGroupManager.BlockCollection</span></code></a></p>
<p>Creates a representative 1D slab block.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ul class="simple">
<li><p>Ignores lumped fission products since there is no foreseeable need for burn calculations in 1D slab geometry
since it is used for low power neutronic validation.</p></li>
<li><p>Checks for consistent component dimensions for all blocks in a group and then creates a new block.</p></li>
<li><p>Iterates through components of all blocks and calculates component average number densities. This calculation
takes the first component of each block, averages the number densities, and applies this to the number density
to the representative block.</p></li>
</ul>
</div>
</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.FluxWeightedAverageBlockCollection">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">FluxWeightedAverageBlockCollection</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#FluxWeightedAverageBlockCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.FluxWeightedAverageBlockCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.AverageBlockCollection" title="armi.physics.neutronics.crossSectionGroupManager.AverageBlockCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.crossSectionGroupManager.AverageBlockCollection</span></code></a></p>
<p>Flux-weighted AverageBlockCollection</p>
</dd></dl>

<dl class="class">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">CrossSectionGroupManager</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.Interface" title="armi.interfaces.Interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.interfaces.Interface</span></code></a></p>
<p>Looks at the reactor and updates burnup group information based on current burnup.</p>
<p>Contains a <a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.BlockCollection" title="armi.physics.neutronics.crossSectionGroupManager.BlockCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockCollection</span></code></a> for each cross section group.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The representative blocks created in the CrossSectionGroupManager are ordered
alphabetically by key.</p>
</div>
<p>Construct an interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">cs</span></code> arguments are required, but may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, where
appropriate for the specific <code class="docutils literal notranslate"><span class="pre">Interface</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><em>Reactor</em></a>) – A reactor to attach to</p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>Settings</em></a>) – Settings object to use</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – Interfaces derived from Interface must define their name</p>
</dd>
</dl>
<dl class="attribute">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.name">
<code class="sig-name descname">name</code><em class="property">: Optional[str]</em><em class="property"> = 'xsGroups'</em><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactBOL">
<code class="sig-name descname">interactBOL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.interactBOL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactBOL" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the Beginning-of-Life of a run, before any cycles start.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactBOC">
<code class="sig-name descname">interactBOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.interactBOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactBOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Update representative blocks and block burnup groups.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The block list each each block collection cannot be emptied since it is used to derive nuclide temperatures.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactEOC">
<code class="sig-name descname">interactEOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.interactEOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactEOC" title="Permalink to this definition">¶</a></dt>
<dd><p>EOC interaction.</p>
<p>Clear out big dictionary of all blocks to avoid memory issues and out-of-date representers.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactCoupled">
<code class="sig-name descname">interactCoupled</code><span class="sig-paren">(</span><em class="sig-param">iteration</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.interactCoupled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.interactCoupled" title="Permalink to this definition">¶</a></dt>
<dd><p>Update XS groups on each physics coupling iteration to get latest temperatures.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.clearRepresentativeBlocks">
<code class="sig-name descname">clearRepresentativeBlocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.clearRepresentativeBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.clearRepresentativeBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the representative blocks.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.xsTypeIsPregenerated">
<code class="sig-name descname">xsTypeIsPregenerated</code><span class="sig-paren">(</span><em class="sig-param">xsID</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.xsTypeIsPregenerated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.xsTypeIsPregenerated" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the xs id is pre-generated.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.createRepresentativeBlocks">
<code class="sig-name descname">createRepresentativeBlocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.createRepresentativeBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.createRepresentativeBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a representative block from each cross section ID managed here.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.createRepresentativeBlocksUsingExistingBlocks">
<code class="sig-name descname">createRepresentativeBlocksUsingExistingBlocks</code><span class="sig-paren">(</span><em class="sig-param">blockList</em>, <em class="sig-param">originalRepresentativeBlocks</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.createRepresentativeBlocksUsingExistingBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.createRepresentativeBlocksUsingExistingBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new set of representative blocks using provided blocks.</p>
<p>This uses an input list of blocks and creates new representative blocks for these blocks based on the
compositions and temperatures of their original representative blocks.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is required for computing Doppler, Voided-Doppler, Temperature, and Voided-Temperature reactivity
coefficients, where the composition of the representative block must remain the same, but only the
temperatures within the representative blocks are to be modified.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blockList</strong> (<em>list</em>) – A list of blocks defined within the core</p></li>
<li><p><strong>originalRepresentativeBlocks</strong> (<em>list</em>) – A list of unperturbed representative blocks that the new representative blocks are formed from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>blockCollectionByXsGroup</strong> (<em>dict</em>) – Mapping between XS IDs and the new block collections</p></li>
<li><p><strong>modifiedReprBlocks</strong> (<em>dict</em>) – Mapping between XS IDs and the new representative blocks</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If passed list arguments are empty</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.getNextAvailableXsTypes">
<code class="sig-name descname">getNextAvailableXsTypes</code><span class="sig-paren">(</span><em class="sig-param">howMany=1</em>, <em class="sig-param">excludedXSTypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.getNextAvailableXsTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.getNextAvailableXsTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next however many available xs types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>howMany</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of requested xs types</p></li>
<li><p><strong>excludedXSTypes</strong> (<em>list</em><em>, </em><em>optional</em>) – A list of cross section types to exclude from using</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If there are no available XS types to be allocated</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.makeCrossSectionGroups">
<code class="sig-name descname">makeCrossSectionGroups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.makeCrossSectionGroups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.makeCrossSectionGroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Make cross section groups for all blocks in reactor and unrepresented blocks from blueprints.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.disableBuGroupUpdates">
<code class="sig-name descname">disableBuGroupUpdates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.disableBuGroupUpdates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.disableBuGroupUpdates" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn off updating bu groups based on burnup</p>
<p>Useful during reactivity coefficient calculations to be consistent with ref. run.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.enableBuGroupUpdates" title="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.enableBuGroupUpdates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enableBuGroupUpdates()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.enableBuGroupUpdates">
<code class="sig-name descname">enableBuGroupUpdates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.enableBuGroupUpdates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.enableBuGroupUpdates" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on updating bu groups based on burnup</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.disableBuGroupUpdates" title="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.disableBuGroupUpdates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disableBuGroupUpdates()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.getNucTemperature">
<code class="sig-name descname">getNucTemperature</code><span class="sig-paren">(</span><em class="sig-param">xsID</em>, <em class="sig-param">nucName</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.getNucTemperature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.getNucTemperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the temperature (in C) of the nuclide in the group with specified xsID.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Returns None if the xsID or nucName are not in the average nuclide temperature dictionary
<cite>self.avgNucTemperatures</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.updateNuclideTemperatures">
<code class="sig-name descname">updateNuclideTemperatures</code><span class="sig-paren">(</span><em class="sig-param">blockCollectionByXsGroup=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#CrossSectionGroupManager.updateNuclideTemperatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.CrossSectionGroupManager.updateNuclideTemperatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Recompute nuclide temperatures for the block collections within the core.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>blockCollectionByXsGroup</strong> (<em>dict</em><em>, </em><em>optional</em>) – Mapping between the XS IDs in the core and the block collections. Note that providing this as
an arugment will only update the average temperatures of these XS IDs/block collections and will
result in other XS ID average temperatures not included to be discarded.</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This method does not update any properties of the representative blocks.
Temperatures are obtained from the BlockCollection class rather than the representative block.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.physics.neutronics.crossSectionGroupManager.blockCollectionFactory">
<code class="sig-prename descclassname">armi.physics.neutronics.crossSectionGroupManager.</code><code class="sig-name descname">blockCollectionFactory</code><span class="sig-paren">(</span><em class="sig-param">xsSettings</em>, <em class="sig-param">allNuclidesInProblem</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/crossSectionGroupManager.html#blockCollectionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.crossSectionGroupManager.blockCollectionFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a block collection based on user settings and input.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.physics.neutronics.crossSectionSettings.html" class="btn btn-neutral float-right" title="armi.physics.neutronics.crossSectionSettings module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.physics.neutronics.const.html" class="btn btn-neutral float-left" title="armi.physics.neutronics.const module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-03-20.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>